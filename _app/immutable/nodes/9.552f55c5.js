import{S as Mt,i as At,s as Nt,k as r,a as v,q as x,l as a,m as l,c as p,r as C,h as o,E as rs,n,b as ge,F as e,u as as,G as pn,e as Fr,Q as is,T as J,p as Y,U as He,y as $,z as E,A as k,g as z,d as I,B as D,V as Uo,o as An,W as na,w as sa,M as oa,N as ra,O as aa,L as ia}from"../chunks/index.33e32cf3.js";import{I as Ro}from"../chunks/Icon.a5a3afcc.js";import{a as bn,E as Xr,m as ea,C as Fo,D as la,R as ca,S as da,s as fa,e as Qr,b as Ur,w as Rr}from"../chunks/index.2cd31dc0.js";import{W as ua}from"../chunks/WestQueenWest.03c3e28f.js";import{B as Wn,g as ha,c as ma,b as ga,a as va,h as pa,L as ba,v as ya,d as _a,e as wa,f as $a,t as Ea}from"../chunks/visitordayofweek.0595dd4a.js";import{m as Mn,L as Qo}from"../chunks/Legend.a0bd7103.js";/* empty css                       */function ka(m){let t,s,h,f,c,d,_,P,u,b;return{c(){t=r("div"),s=r("div"),h=r("img"),c=v(),d=r("h1"),_=x(m[0]),P=v(),u=r("h2"),b=x(m[1]),this.h()},l(y){t=a(y,"DIV",{class:!0});var g=l(t);s=a(g,"DIV",{class:!0});var V=l(s);h=a(V,"IMG",{src:!0,alt:!0}),c=p(V),d=a(V,"H1",{class:!0});var w=l(d);_=C(w,m[0]),w.forEach(o),P=p(V),u=a(V,"H2",{class:!0});var N=l(u);b=C(N,m[1]),N.forEach(o),V.forEach(o),g.forEach(o),this.h()},h(){rs(h.src,f=m[2])||n(h,"src",f),n(h,"alt","street"),n(d,"class","svelte-1p87l8q"),n(u,"class","svelte-1p87l8q"),n(s,"class","title svelte-1p87l8q"),n(t,"class","blueprint svelte-1p87l8q")},m(y,g){ge(y,t,g),e(t,s),e(s,h),e(s,c),e(s,d),e(d,_),e(s,P),e(s,u),e(u,b)},p(y,[g]){g&4&&!rs(h.src,f=y[2])&&n(h,"src",f),g&1&&as(_,y[0]),g&2&&as(b,y[1])},i:pn,o:pn,d(y){y&&o(t)}}}function za(m,t,s){let{name:h}=t,{location:f}=t,{outline:c}=t;return m.$$set=d=>{"name"in d&&s(0,h=d.name),"location"in d&&s(1,f=d.location),"outline"in d&&s(2,c=d.outline)},[h,f,c]}class Ia extends Mt{constructor(t){super(),At(this,t,za,ka,Nt,{name:0,location:1,outline:2})}}function Da(m){let t,s,h,f;return{c(){t=r("div"),s=r("span"),f=x(m[0]),this.h()},l(c){t=a(c,"DIV",{class:!0});var d=l(t);s=a(d,"SPAN",{class:!0,style:!0}),l(s).forEach(o),f=C(d,m[0]),d.forEach(o),this.h()},h(){n(s,"class",h=J(m[1])+" svelte-y5sfvd"),Y(s,"background-color",m[2]),Y(s,"box-shadow","inset 0px 0px 0px 2px "+m[3]),Y(s,"border-color",m[3]),n(t,"class","legend-item svelte-y5sfvd")},m(c,d){ge(c,t,d),e(t,s),e(t,f)},p(c,d){d&2&&h!==(h=J(c[1])+" svelte-y5sfvd")&&n(s,"class",h),d&4&&Y(s,"background-color",c[2]),d&8&&Y(s,"box-shadow","inset 0px 0px 0px 2px "+c[3]),d&8&&Y(s,"border-color",c[3]),d&1&&as(f,c[0])},d(c){c&&o(t)}}}function Ta(m){let t,s,h,f,c,d,_,P;return{c(){t=r("button"),s=r("div"),h=r("span"),c=x(m[0]),this.h()},l(u){t=a(u,"BUTTON",{class:!0});var b=l(t);s=a(b,"DIV",{class:!0,id:!0});var y=l(s);h=a(y,"SPAN",{class:!0,style:!0}),l(h).forEach(o),c=C(y,m[0]),y.forEach(o),b.forEach(o),this.h()},h(){n(h,"class",f=J(m[1])+" svelte-y5sfvd"),Y(h,"background-color",m[2]),Y(h,"box-shadow","inset 0px 0px 0px 2px "+m[3]),Y(h,"border-color",m[3]),n(s,"class","legend-item svelte-y5sfvd"),n(s,"id",m[4]),n(t,"class",d=J(m[6]?"layerOn":"layerOff")+" svelte-y5sfvd")},m(u,b){ge(u,t,b),e(t,s),e(s,h),e(s,c),_||(P=He(t,"click",m[7]),_=!0)},p(u,b){b&2&&f!==(f=J(u[1])+" svelte-y5sfvd")&&n(h,"class",f),b&4&&Y(h,"background-color",u[2]),b&8&&Y(h,"box-shadow","inset 0px 0px 0px 2px "+u[3]),b&8&&Y(h,"border-color",u[3]),b&1&&as(c,u[0]),b&16&&n(s,"id",u[4]),b&64&&d!==(d=J(u[6]?"layerOn":"layerOff")+" svelte-y5sfvd")&&n(t,"class",d)},d(u){u&&o(t),_=!1,P()}}}function Pa(m){let t;function s(c,d){return c[5]?Ta:Da}let h=s(m),f=h(m);return{c(){f.c(),t=Fr()},l(c){f.l(c),t=Fr()},m(c,d){f.m(c,d),ge(c,t,d)},p(c,[d]){h===(h=s(c))&&f?f.p(c,d):(f.d(1),f=h(c),f&&(f.c(),f.m(t.parentNode,t)))},i:pn,o:pn,d(c){f.d(c),c&&o(t)}}}function Va(m,t,s){let{label:h}=t,{variant:f}=t,{bgcolor:c}=t,{bordercolor:d}=t,{id:_}=t,{button:P=!1}=t,{section:u}=t,b=null;const y=bn.subscribe(w=>{u&&w[u]&&(b=w[u])});let g=!0;is(y);function V(){if(b){b.getLayoutProperty(_,"visibility");let w=b.getPaintProperty(_,"circle-opacity");w===.9||w===void 0?(b.setPaintProperty(_,"circle-opacity",0),b.setPaintProperty(_,"circle-stroke-opacity",0),s(6,g=!1)):(b.setPaintProperty(_,"circle-opacity",.9),b.setPaintProperty(_,"circle-stroke-opacity",.9),s(6,g=!0))}}return m.$$set=w=>{"label"in w&&s(0,h=w.label),"variant"in w&&s(1,f=w.variant),"bgcolor"in w&&s(2,c=w.bgcolor),"bordercolor"in w&&s(3,d=w.bordercolor),"id"in w&&s(4,_=w.id),"button"in w&&s(5,P=w.button),"section"in w&&s(8,u=w.section)},[h,f,c,d,_,P,g,V,u]}class j extends Mt{constructor(t){super(),At(this,t,Va,Pa,Nt,{label:0,variant:1,bgcolor:2,bordercolor:3,id:4,button:5,section:8})}}function xa(m){let t,s,h,f,c,d,_,P,u,b;return s=new Ro({props:{icon:"mdi:walk"}}),{c(){t=r("button"),$(s.$$.fragment),h=v(),f=r("label"),c=r("input"),d=x(`
    10 Minute Walk Radius`),this.h()},l(y){t=a(y,"BUTTON",{class:!0});var g=l(t);E(s.$$.fragment,g),h=p(g),f=a(g,"LABEL",{class:!0});var V=l(f);c=a(V,"INPUT",{type:!0,class:!0}),d=C(V,`
    10 Minute Walk Radius`),V.forEach(o),g.forEach(o),this.h()},h(){n(c,"type","checkbox"),n(c,"class","svelte-1wfkuff"),n(f,"class","svelte-1wfkuff"),n(t,"class",_=J(m[0]?"layerOn":"layerOff")+" svelte-1wfkuff")},m(y,g){ge(y,t,g),k(s,t,null),e(t,h),e(t,f),e(f,c),c.checked=m[0],e(f,d),P=!0,u||(b=[He(c,"change",m[6]),He(c,"change",m[1])],u=!0)},p(y,[g]){g&1&&(c.checked=y[0]),(!P||g&1&&_!==(_=J(y[0]?"layerOn":"layerOff")+" svelte-1wfkuff"))&&n(t,"class",_)},i(y){P||(z(s.$$.fragment,y),P=!0)},o(y){I(s.$$.fragment,y),P=!1},d(y){y&&o(t),D(s),u=!1,Uo(b)}}}function Ca(m,t,s){let{layer:h}=t,{minZoom:f=13.8}=t,{maxZoom:c=14.7}=t,{section:d}=t,_=null;const P=bn.subscribe(g=>{d&&g[d]&&(_=g[d])});is(P);let u=!1;function b(){if(_){console.log(_.getStyle().layers);const g=h,V=u?"visible":"none",w=u?.9:0,N=u?f:c;_.setLayoutProperty(g,"visibility",V),_.setPaintProperty(g,"fill-opacity",w),_.easeTo({zoom:N})}}An(()=>{b()});function y(){u=this.checked,s(0,u)}return m.$$set=g=>{"layer"in g&&s(2,h=g.layer),"minZoom"in g&&s(3,f=g.minZoom),"maxZoom"in g&&s(4,c=g.maxZoom),"section"in g&&s(5,d=g.section)},[u,b,h,f,c,d,y]}class Yr extends Mt{constructor(t){super(),At(this,t,Ca,xa,Nt,{layer:2,minZoom:3,maxZoom:4,section:5})}}function Sa(m){let t,s,h,f,c,d,_,P,u,b,y,g,V,w,N,K;return h=new Ro({props:{icon:"iconoir:drag"}}),{c(){t=r("div"),s=r("button"),$(h.$$.fragment),f=v(),c=r("label"),d=r("input"),_=x(`
			Employment Size`),u=v(),b=r("div"),y=r("img"),this.h()},l(T){t=a(T,"DIV",{id:!0,class:!0});var H=l(t);s=a(H,"BUTTON",{class:!0});var M=l(s);E(h.$$.fragment,M),f=p(M),c=a(M,"LABEL",{class:!0});var S=l(c);d=a(S,"INPUT",{type:!0,class:!0}),_=C(S,`
			Employment Size`),S.forEach(o),M.forEach(o),u=p(H),b=a(H,"DIV",{id:!0,class:!0});var G=l(b);y=a(G,"IMG",{src:!0,alt:!0,class:!0}),G.forEach(o),H.forEach(o),this.h()},h(){n(d,"type","checkbox"),n(d,"class","svelte-dljafd"),n(c,"class","svelte-dljafd"),n(s,"class",P=J(m[0]?"layerOn":"layerOff")+" svelte-dljafd"),rs(y.src,g=Xr)||n(y,"src",g),n(y,"alt","legend"),n(y,"class","svelte-dljafd"),n(b,"id","legend"),n(b,"class",V=J(m[0]?"legendOn":"legendOff")+" svelte-dljafd"),n(t,"id","container"),n(t,"class","svelte-dljafd")},m(T,H){ge(T,t,H),e(t,s),k(h,s,null),e(s,f),e(s,c),e(c,d),d.checked=m[0],e(c,_),e(t,u),e(t,b),e(b,y),w=!0,N||(K=[He(d,"change",m[6]),He(d,"change",m[1])],N=!0)},p(T,[H]){H&1&&(d.checked=T[0]),(!w||H&1&&P!==(P=J(T[0]?"layerOn":"layerOff")+" svelte-dljafd"))&&n(s,"class",P),(!w||H&1&&V!==(V=J(T[0]?"legendOn":"legendOff")+" svelte-dljafd"))&&n(b,"class",V)},i(T){w||(z(h.$$.fragment,T),w=!0)},o(T){I(h.$$.fragment,T),w=!1},d(T){T&&o(t),D(h),N=!1,Uo(K)}}}function Oa(m,t,s){let{layers:h=[]}=t,{minZoom:f=14.1}=t,{maxZoom:c=14.7}=t,{section:d}=t,_=null;const P=bn.subscribe(g=>{d&&g[d]&&(_=g[d])});is(P);let u=!1;function b(){if(_){const g=h,V=u?f:c,w=u?.8:1,N=u?["step",["get","empsize_EmpSzNm"],5,5,10,10,15,50,20,100,25,1e3,5]:5;for(let K=0;K<g.length;K++){const T=g[K];_.setPaintProperty(T,"circle-radius",N),_.setPaintProperty(T,"circle-opacity",w)}_.easeTo({zoom:V})}}An(()=>{b()});function y(){u=this.checked,s(0,u)}return m.$$set=g=>{"layers"in g&&s(2,h=g.layers),"minZoom"in g&&s(3,f=g.minZoom),"maxZoom"in g&&s(4,c=g.maxZoom),"section"in g&&s(5,d=g.section)},[u,b,h,f,c,d,y]}class Jr extends Mt{constructor(t){super(),At(this,t,Oa,Sa,Nt,{layers:2,minZoom:3,maxZoom:4,section:5})}}function La(m){let t,s,h,f,c,d,_,P,u,b;return s=new Ro({props:{icon:"material-symbols:photo"}}),{c(){t=r("button"),$(s.$$.fragment),h=v(),f=r("label"),c=r("input"),d=x(`
		Photos`),this.h()},l(y){t=a(y,"BUTTON",{class:!0});var g=l(t);E(s.$$.fragment,g),h=p(g),f=a(g,"LABEL",{class:!0});var V=l(f);c=a(V,"INPUT",{type:!0,class:!0}),d=C(V,`
		Photos`),V.forEach(o),g.forEach(o),this.h()},h(){n(c,"type","checkbox"),n(c,"class","svelte-4fk274"),n(f,"class","svelte-4fk274"),n(t,"class",_=J(m[0]?"layerOn":"layerOff")+" svelte-4fk274")},m(y,g){ge(y,t,g),k(s,t,null),e(t,h),e(t,f),e(f,c),c.checked=m[0],e(f,d),P=!0,u||(b=[He(c,"change",m[4]),He(c,"change",m[1])],u=!0)},p(y,[g]){g&1&&(c.checked=y[0]),(!P||g&1&&_!==(_=J(y[0]?"layerOn":"layerOff")+" svelte-4fk274"))&&n(t,"class",_)},i(y){P||(z(s.$$.fragment,y),P=!0)},o(y){I(s.$$.fragment,y),P=!1},d(y){y&&o(t),D(s),u=!1,Uo(b)}}}function Wa(m,t,s){let h=!0,{section:f}=t,{layer:c}=t,d=null;const _=bn.subscribe(b=>{f&&b[f]&&(d=b[f])});is(_);function P(){if(d){const b=h?1:0;d.setPaintProperty(c,"icon-opacity",b)}}An(()=>{P()});function u(){h=this.checked,s(0,h)}return m.$$set=b=>{"section"in b&&s(2,f=b.section),"layer"in b&&s(3,c=b.layer)},[h,P,f,c,u]}class os extends Mt{constructor(t){super(),At(this,t,Wa,La,Nt,{section:2,layer:3})}}function Ma(m){let t,s,h;return na(m[12]),{c(){t=r("div"),this.h()},l(f){t=a(f,"DIV",{id:!0,class:!0,style:!0}),l(t).forEach(o),this.h()},h(){n(t,"id",m[0]),n(t,"class","map svelte-19388ql"),Y(t,"height",m[3]+"px")},m(f,c){ge(f,t,c),s||(h=He(window,"resize",m[12]),s=!0)},p(f,[c]){c&1&&n(t,"id",f[0]),c&8&&Y(t,"height",f[3]+"px")},i:pn,o:pn,d(f){f&&o(t),s=!1,h()}}}function Aa(m,t,s){Mn.accessToken="pk.eyJ1IjoiYW5hbm1heSIsImEiOiJjbDk0azNmY3oxa203M3huMzhyZndlZDRoIn0.1L-fBYplQMuwz0LGctNeiA";let{section:h}=t,{center:f=[-79.37,43.715]}=t,{zoom:c=9.5}=t,{maxZoom:d=16.5}=t,{minZoom:_=8.5}=t,{bearing:P=-17.1}=t,{pitch:u=0}=t,{layers:b=[]}=t,y,g,V=600,{map:w}=t;const N=[[-79.6772,43.44],[-79.04763,44.03074]];An(()=>{s(4,w=new Mn.Map({container:h,style:"mapbox://styles/ananmay/clo7jlaht00mt01qp7mnxcr21?fresh=true",center:f,zoom:c,maxZoom:d,minZoom:_,bearing:P,pitch:u,projection:"globe",scrollZoom:!1,maxBounds:N,attributionControl:!1})),ea.set(w),bn.update(T=>({...T,[h]:w})),w.addControl(new Mn.NavigationControl,"top-left"),w.addControl(new Mn.ScaleControl,"bottom-left"),w.addControl(new Mn.AttributionControl({customAttribution:"Canadian Urban Institute"})),w.on("load",function(){let T=w.getStyle().layers;var H=["road","admin","landuse","landuse_overlay","water","waterway","structure","building","natural_label"];T.forEach(function(M){(M.id==="land"||M["source-layer"]&&!H.includes(M["source-layer"]))&&w.setLayoutProperty(M.id,"visibility","none")}),b.forEach(function(M){w.setLayoutProperty(M,"visibility","visible")})})});function K(){s(1,y=window.innerHeight),s(2,g=window.innerWidth)}return m.$$set=T=>{"section"in T&&s(0,h=T.section),"center"in T&&s(5,f=T.center),"zoom"in T&&s(6,c=T.zoom),"maxZoom"in T&&s(7,d=T.maxZoom),"minZoom"in T&&s(8,_=T.minZoom),"bearing"in T&&s(9,P=T.bearing),"pitch"in T&&s(10,u=T.pitch),"layers"in T&&s(11,b=T.layers),"map"in T&&s(4,w=T.map)},m.$$.update=()=>{m.$$.dirty&2&&(y<800?s(3,V=y-200):s(3,V=600))},[h,y,g,V,w,f,c,d,_,P,u,b,K]}class Ne extends Mt{constructor(t){super(),At(this,t,Aa,Ma,Nt,{section:0,center:5,zoom:6,maxZoom:7,minZoom:8,bearing:9,pitch:10,layers:11,map:4})}}function Na(m){let t,s,h,f,c,d,_,P,u,b,y,g,V,w,N,K,T,H,M,S,G,O,B,L,q,W,ve,pe,ls,Ze,_e,ee,Ht,cs,ds,yn,fs,us,_n,hs,ms,wn,gs,vs,se,F,Be,ps,qe,bs,Ke,ys,je,_s,Ge,ws,Fe,$s,Zt,Qe,Es,Ue,we,te,Bt,ks,zs,$n,Is,Ds,En,Ts,Ps,Z,kn,zn,Vs,xs,Re,Cs,Ye,Ss,Je,Os,Xe,Ls,et,Ws,oe,tt,Ms,nt,As,st,Ns,$e,ot,Hs,qt,rt,Zs,at,Ee,Q,Kt,Bs,qs,In,Ks,js,Dn,Gs,Fs,Tn,Qs,Us,U,Pn,Vn,Rs,Ys,it,Js,lt,Xs,ct,eo,re,dt,to,ft,no,ut,so,ke,ht,oo,jt,mt,ro,gt,ze,Ie,Gt,ao,io,xn,lo,co,De,vt,fo,Te,be,pt,uo,bt,ho,yt,mo,_t,Yo,go,wt,Pe,ae,Ft,vo,po,Cn,bo,yo,Sn,_o,wo,ie,Ve,$t,$o,Et,Eo,kt,ko,xe,Qt,zt,zo,Ut,It,Io,Dt,Ce,le,Rt,Do,To,On,Po,Vo,Yt,Tt,xo,Jt,Pt,Co,Vt,Se,ce,Xt,So,Oo,Ln,Lo,Wo,Oe,en,Mo,Ao,de,No,Ho,fe,xt,Zo,tn,Le,Bo,X,nn,Ct,qo,sn,St,Ko,on,Ot,jo,rn,Lt,Go,Wt,Nn;_=new Ia({props:{outline:ua,name:"West Queen West",location:"Toronto, Ontario"}}),L=new Qo({props:{minlabel:"Low",maxlabel:"High",label:"Business Density",gradient:m[3].business}}),W=new j({props:{variant:"polygon",label:"West Queen West",bgcolor:"#ffdd33",bordercolor:"#c4ad37"}}),pe=new Ne({props:{center:[-79.41145,43.647],zoom:13,pitch:50,bearing:0,layers:["mainstreets-toronto","westqueenwest","westqueenwest-fill"],section:"overview"}}),Be=new j({props:{variant:"polygon",label:"West Queen West",bgcolor:"#ffdd33",bordercolor:"#c4ad37"}}),qe=new j({props:{variant:"polygon",label:"Green Spaces",bgcolor:"#43b171"}}),Ke=new j({props:{variant:"polygon",label:"Buildings",bgcolor:"#d4d4d4",bordercolor:"#999797"}}),je=new j({props:{variant:"line",label:"Transit",bordercolor:"#ff4242"}}),Ge=new os({props:{section:"builtform",layer:"builtform-photos"}}),Fe=new Ne({props:{center:[-79.4145,43.64408],zoom:15,minZoom:15,pitch:40,bearing:-15,layers:["westqueenwest","westqueenwest-fill","greenspaces","transit-toronto","transit-toronto-stops","buildings-toronto"],section:"builtform"}}),Qe=new Wn({props:{colors:["#43b171"],data:ha,yKey:"Area",xKey:"Park_Percentage",title:"Green Space %",padding:{top:0,bottom:20,left:110}}}),Re=new j({props:{variant:"circle",label:"Arts and Culture",bgcolor:"#DB3069",bordercolor:"#fff",button:!0,id:"civicinfra-toronto-arts-culture",section:"civicinfra"}}),Ye=new j({props:{variant:"circle",label:"Government and Community Services",bgcolor:"#8A4285",bordercolor:"#fff",button:!0,id:"civicinfra-toronto-govt-community",section:"civicinfra"}}),Je=new j({props:{variant:"circle",label:"Recreation and Facilities",bgcolor:"#43B171",bordercolor:"#fff",button:!0,id:"civicinfra-toronto-recreation",section:"civicinfra"}}),Xe=new j({props:{variant:"circle",label:"Health and Care Facilities",bgcolor:"#33AED7",bordercolor:"#fff",button:!0,id:"civicinfra-toronto-health",section:"civicinfra"}}),et=new j({props:{variant:"circle",label:"Education",bgcolor:"#F45D01",bordercolor:"#fff",button:!0,id:"civicinfra-toronto-education",section:"civicinfra"}}),tt=new os({props:{section:"civicinfra",layer:"civicinfra-photos"}}),nt=new Yr({props:{section:"civicinfra",layer:"wqw-isochrone"}}),st=new Jr({props:{section:"civicinfra",layers:["civicinfra-toronto-education","civicinfra-toronto-govt-community","civicinfra-toronto-arts-culture","civicinfra-toronto-education","civicinfra-toronto-recreation"]}}),ot=new Ne({props:{center:[-79.4154,43.6441],zoom:14.7,minZoom:13.3,pitch:0,bearing:-15,layers:["westqueenwest","westqueenwest-fill","civicinfra-toronto-education","civicinfra-toronto-govt-community","civicinfra-toronto-health","civicinfra-toronto-arts-culture","civicinfra-toronto-recreation"],section:"civicinfra"}}),rt=new Wn({props:{colors:["#DB3069","#F45D01","#8A4285","#33AED7","#43B171"],data:ma,yKey:"Area",xKey:"Percentage",zKey:"Group",mode:"stacked",title:"Civic Infrastructure Mix (%)",padding:{top:0,bottom:20,left:110}}}),it=new j({props:{variant:"circle",label:"Retail",bgcolor:"#F13737",bordercolor:"#fff",button:!0,id:"business-toronto-retail",section:"business"}}),lt=new j({props:{variant:"circle",label:"Services and Other",bgcolor:"#2a5cac",bordercolor:"#fff",button:!0,id:"business-toronto-services",section:"business"}}),ct=new j({props:{variant:"circle",label:"Food and Drink",bgcolor:"#43b171",bordercolor:"#fff",button:!0,id:"business-toronto-food-drink",section:"business"}}),dt=new os({props:{section:"business",layer:"business-photos"}}),ft=new Yr({props:{section:"business",layer:"wqw-isochrone"}}),ut=new Jr({props:{section:"business",layers:["business-toronto-retail","business-toronto-services","business-toronto-food-drink"]}}),ht=new Ne({props:{center:[-79.4154,43.6441],zoom:14.7,minZoom:13.3,pitch:0,bearing:-15,layers:["westqueenwest","westqueenwest-fill","business-toronto-retail","business-toronto-food-drink","business-toronto-services"],section:"business"}}),mt=new Wn({props:{colors:["#43b171","#F13737","#2a5cac"],data:ga,yKey:"Area",xKey:"Percentage",zKey:"Group",mode:"stacked",title:"Business Mix (%)",padding:{top:0,bottom:20,left:110}}}),vt=new Ne({props:{center:[-79.4154,43.6441],zoom:14.5,minZoom:14,pitch:20,bearing:-15,layers:["westqueenwest","westqueenwest-fill","employment-size"],section:"employmentsize"}}),pt=new j({props:{variant:"circle",label:"Civic Infrastructure",bgcolor:"#db3069",bordercolor:"#fff"}}),bt=new j({props:{variant:"circle",label:"Businesses",bgcolor:"#2a5cac",bordercolor:"#fff"}}),yt=new j({props:{variant:"circle",label:"Other",bgcolor:"#b0b0b0",bordercolor:"#fff"}}),$t=new Qo({props:{minlabel:"0",maxlabel:"4070000",label:"Population Density (people/sq.km)",gradient:m[3].popdensity}}),Et=new os({props:{section:"housing",layer:"housing-photos"}}),kt=new Ne({props:{center:[-79.4154,43.6441],zoom:14.7,minZoom:14,pitch:0,bearing:-15,layers:["westqueenwest-outline","populationdensity"],section:"housing"}}),zt=new Fo({props:{colors:["#002a41","#0098D6"],data:va,xKey:"constructionyear",yKey:"percentage",zKey:"area",mode:"grouped",title:"Housing Construction Year (%)",padding:{top:0,bottom:20,left:10},legend:!0}}),It=new Fo({props:{colors:["#002a41","#0098D6"],data:pa,xKey:"housingtype",yKey:"percentage",zKey:"area",mode:"grouped",title:"Housing Type (%)",padding:{top:10,bottom:20,left:10},legend:!0}}),Tt=new la({props:{section:"demographics",options:[{id:"averageincome",text:"Average Income"},{id:"populationdensity",text:"Population Density"},{id:"visibleminority",text:"Visible Minorities"}]}}),Pt=new Ne({props:{center:[-79.4154,43.6441],zoom:14.5,minZoom:14,pitch:0,bearing:-15,layers:["westqueenwest-outline","averageincome"],section:"demographics"}});function ta(i){m[6](i)}let Jo={min:2019,max:2022,pips:!0,all:"label",hoverable:!1};return m[0]!==void 0&&(Jo.values=m[0]),de=new ca({props:Jo}),sa.push(()=>oa(de,"values",ta)),de.$on("change",m[7]),xt=new Ne({props:{center:[-79.417,43.6441],zoom:9,pitch:0,bearing:-15,layers:["westqueenwest-outline","visitors-2022"],section:"visitors"}}),Le=new Qo({props:{minlabel:"0",maxlabel:Math.round(m[2]),label:"Number of Daily Visits from Visitor Home Location",gradient:m[3].heatmap}}),Ct=new ba({props:{data:ya.map(m[8]),xKey:"date",yKey:"Percentage",xScale:"time",xFormatTick:m[9],area:!1,title:"Visitor Levels % (Relative to 2019)",snapTicks:!1,colors:["#0098D6"]}}),St=new Fo({props:{colors:["#002a41","#0098D6","#db3069"],data:_a,xKey:"Year",yKey:"Count",zKey:"Type",mode:"stacked",title:"Visitor Count by Type",padding:{top:20,bottom:20,left:70},legend:!0}}),Ot=new Wn({props:{colors:["#002a41"],data:wa,yKey:"Time",xKey:"Percentage",title:"Visitors (%) by Time of Day",padding:{top:0,bottom:20,left:80}}}),Lt=new Wn({props:{colors:["#0098D6"],data:$a,yKey:"Day",xKey:"Percentage",title:"Visitors (%) by Day of Week",padding:{top:0,bottom:20,left:80}}}),Wt=new da({props:{name:"West Queen West",location:"Toronto, Ontario"}}),{c(){t=r("link"),s=r("link"),h=r("link"),f=r("link"),c=v(),d=r("main"),$(_.$$.fragment),P=v(),u=r("div"),b=r("section"),y=r("div"),g=r("div"),V=r("h2"),w=x("Overview"),N=v(),K=r("p"),T=x(`West Queen West is the segment of a prominent arterial road through the southern parts
						of the city of Toronto, specifically the part of the street between Dufferin in the west
						and Bathurst in the east. To its immediate west is the neighbourhood of Parkdale, to its
						south a mix of high-density neighbourhoods such as Liberty Village and Niagara, to the
						east the street leads into the entertainment district and downtown, and to the north a
						patchwork of lower-rise residential neighbourhoods.`),H=v(),M=r("p"),S=x(`The street has served as a historic westbound route in and out of Toronto’s core and has
						been urbanized since at least the 1850s. Historically a working-class district close to
						factory jobs, as the economic profile of Toronto has shifted to services and knowledge
						work so has West Queen West’s residential population.`),G=v(),O=r("div"),B=r("div"),$(L.$$.fragment),q=v(),$(W.$$.fragment),ve=v(),$(pe.$$.fragment),ls=v(),Ze=r("section"),_e=r("div"),ee=r("div"),Ht=r("h2"),cs=x("Built Form"),ds=v(),yn=r("p"),fs=x(`Most of the buildings along the street consists of mixed-use commercial and residential
						structures, with small-scale retail directly fronting a sidewalk. Few properties have a
						significant setback from their roadway and heights are limited largely to a maximum of
						three storeys directly on the road — though taller structures do exist immediately to
						the south of the street, especially in its western segment. Many properties along Queen
						Street have alley access to the north and south. There is also a small strip mall in the
						extreme western segment of the street.`),us=v(),_n=r("p"),hs=x(`The street is served by multiple transit routes, most prominently a TTC streetcar route.
						While there is not bike infrastructure on the street beyond parking, there are protected
						bike lanes on some parallel streets.`),ms=v(),wn=r("p"),gs=x(`The most significant change in built-form along the route is the Centre for Addiction
						and Mental Health (CAMH), which occupies a significant property between Shaw and White
						Squirrel on the south of the street. On this stretch, the north side largely maintains
						the prevalent form, but in recent years CAMH has built a number of eight to ten storey
						institutional and mixed-use buildings as well as extended the street grid from the north
						to the south.`),vs=v(),se=r("div"),F=r("div"),$(Be.$$.fragment),ps=v(),$(qe.$$.fragment),bs=v(),$(Ke.$$.fragment),ys=v(),$(je.$$.fragment),_s=v(),$(Ge.$$.fragment),ws=v(),$(Fe.$$.fragment),$s=v(),Zt=r("div"),$(Qe.$$.fragment),Es=v(),Ue=r("section"),we=r("div"),te=r("div"),Bt=r("h2"),ks=x("Civic Infrastructure"),zs=v(),$n=r("p"),Is=x(`The most prominent example of civic infrastructure on the street is CAMH, occupying
						multiple blocks, employing and serving thousands of workers and patients. There are also
						a number of related medical services in the neighbourhood.`),Ds=v(),En=r("p"),Ts=x(`East of CAMH, Queen Street’s heart might be best found at Trinity Bellwoods Park, a 15.4
						hectares green space. Within the park is a large, and popular, community centre, dog
						off-leash space and sports fields. The park has served as a community hub and gathering
						space in Toronto’s west end for years.`),Ps=v(),Z=r("div"),kn=r("i"),zn=r("small"),Vs=x("Click on a layer to turn it on or off"),xs=v(),$(Re.$$.fragment),Cs=v(),$(Ye.$$.fragment),Ss=v(),$(Je.$$.fragment),Os=v(),$(Xe.$$.fragment),Ls=v(),$(et.$$.fragment),Ws=v(),oe=r("div"),$(tt.$$.fragment),Ms=v(),$(nt.$$.fragment),As=v(),$(st.$$.fragment),Ns=v(),$e=r("div"),$(ot.$$.fragment),Hs=v(),qt=r("div"),$(rt.$$.fragment),Zs=v(),at=r("section"),Ee=r("div"),Q=r("div"),Kt=r("h2"),Bs=x("Business Profile"),qs=v(),In=r("p"),Ks=x(`West Queen West is an established retail district, with many small to medium fashion
						stores along the street — with specific concentrations of casual wear, eye glasses, and
						shoes in different blocks. Other retail exists along the street, covering a vast range
						of items from bakeries to convenience stores to toy stores.`),js=v(),Dn=r("p"),Gs=x(`The services are relatively diverse, with a focus on restaurants — both formal, casual
						and fast food. No supermarket grocery store directly fronts the street on this stretch,
						but there are many located just off the street or on segments to the east and west.`),Fs=v(),Tn=r("p"),Qs=x(`There are a number of event venues, especially in the western segment of the street
						which often draw large crowds for concerns and other events.`),Us=v(),U=r("div"),Pn=r("i"),Vn=r("small"),Rs=x("Click on a layer to turn it on or off"),Ys=v(),$(it.$$.fragment),Js=v(),$(lt.$$.fragment),Xs=v(),$(ct.$$.fragment),eo=v(),re=r("div"),$(dt.$$.fragment),to=v(),$(ft.$$.fragment),no=v(),$(ut.$$.fragment),so=v(),ke=r("div"),$(ht.$$.fragment),oo=v(),jt=r("div"),$(mt.$$.fragment),ro=v(),gt=r("section"),ze=r("div"),Ie=r("div"),Gt=r("h2"),ao=x("Employment Profile"),io=v(),xn=r("p"),lo=x(`Employment along the street is largely distributed across hundreds of small businesses,
						with some businesses employing more. CAMH is a sizeable employer along the street — but
						most large employers are concentrated just east, in downtown, or south, in Liberty
						Village, of the street itself.`),co=v(),De=r("div"),$(vt.$$.fragment),fo=v(),Te=r("div"),be=r("div"),$(pt.$$.fragment),uo=v(),$(bt.$$.fragment),ho=v(),$(yt.$$.fragment),mo=v(),_t=r("img"),go=v(),wt=r("section"),Pe=r("div"),ae=r("div"),Ft=r("h2"),vo=x("Housing"),po=v(),Cn=r("p"),bo=x(`The predominant housing form in the area are ground-oriented single family homes north
						of the street, and high-rise condominium and apartment buildings south of the street.
						There are exceptions to this and numerous examples of mid-rise apartment buildings
						throughout the street. Few newer developments directly front onto the street, other than
						some examples directly south of Trinity Bellwoods Park.`),yo=v(),Sn=r("p"),_o=x(`Generally, the population density is high for Canada and the GTA throughout the area,
						though south of the street is much denser with construction in the last 20 years. In
						contrast, the neighbourhoods north of the street have seen stable or declining
						populations in the same period as two-to-three unit buildings are converted into
						single-family houses.`),wo=v(),ie=r("div"),Ve=r("div"),$($t.$$.fragment),$o=v(),$(Et.$$.fragment),Eo=v(),$(kt.$$.fragment),ko=v(),xe=r("div"),Qt=r("div"),$(zt.$$.fragment),zo=v(),Ut=r("div"),$(It.$$.fragment),Io=v(),Dt=r("section"),Ce=r("div"),le=r("div"),Rt=r("h2"),Do=x("Demographics"),To=v(),On=r("p"),Po=x(`The neighbourhoods surrounding West Queen West are more highly educated and less likely
						to be a first generation immigrant than the regional average. Additionally, they are
						more likely to be both in the upper quintile of income, more likely to be in the bottom
						decile of income — indicating a polarized income distribution with limited
						representation of middle income households.`),Vo=v(),Yt=r("div"),$(Tt.$$.fragment),xo=v(),Jt=r("div"),$(Pt.$$.fragment),Co=v(),Vt=r("section"),Se=r("div"),ce=r("div"),Xt=r("h2"),So=x("Visitors"),Oo=v(),Ln=r("p"),Lo=x(`West Queen West does draw visitors throughout the Greater Toronto Area, but with a
						significant concentration among local residents to the west end and downtown of Toronto.
						Generally, visitor traffic is heaviest on Fridays and Saturdays and in the late
						afternoon or evening.`),Wo=v(),Oe=r("div"),en=r("h5"),Mo=x("Year"),Ao=v(),$(de.$$.fragment),Ho=v(),fe=r("div"),$(xt.$$.fragment),Zo=v(),tn=r("div"),$(Le.$$.fragment),Bo=v(),X=r("div"),nn=r("div"),$(Ct.$$.fragment),qo=v(),sn=r("div"),$(St.$$.fragment),Ko=v(),on=r("div"),$(Ot.$$.fragment),jo=v(),rn=r("div"),$(Lt.$$.fragment),Go=v(),$(Wt.$$.fragment),this.h()},l(i){const ne=ra("svelte-19xoy9t",document.head);t=a(ne,"LINK",{rel:!0,href:!0}),s=a(ne,"LINK",{rel:!0,href:!0,crossorigin:!0}),h=a(ne,"LINK",{href:!0,rel:!0}),f=a(ne,"LINK",{href:!0,rel:!0}),ne.forEach(o),c=p(i),d=a(i,"MAIN",{});var ye=l(d);E(_.$$.fragment,ye),P=p(ye),u=a(ye,"DIV",{class:!0});var A=l(u);b=a(A,"SECTION",{"data-id":!0,class:!0});var Xo=l(b);y=a(Xo,"DIV",{class:!0});var Hn=l(y);g=a(Hn,"DIV",{class:!0});var an=l(g);V=a(an,"H2",{class:!0});var er=l(V);w=C(er,"Overview"),er.forEach(o),N=p(an),K=a(an,"P",{});var tr=l(K);T=C(tr,`West Queen West is the segment of a prominent arterial road through the southern parts
						of the city of Toronto, specifically the part of the street between Dufferin in the west
						and Bathurst in the east. To its immediate west is the neighbourhood of Parkdale, to its
						south a mix of high-density neighbourhoods such as Liberty Village and Niagara, to the
						east the street leads into the entertainment district and downtown, and to the north a
						patchwork of lower-rise residential neighbourhoods.`),tr.forEach(o),H=p(an),M=a(an,"P",{});var nr=l(M);S=C(nr,`The street has served as a historic westbound route in and out of Toronto’s core and has
						been urbanized since at least the 1850s. Historically a working-class district close to
						factory jobs, as the economic profile of Toronto has shifted to services and knowledge
						work so has West Queen West’s residential population.`),nr.forEach(o),an.forEach(o),G=p(Hn),O=a(Hn,"DIV",{class:!0});var Zn=l(O);B=a(Zn,"DIV",{class:!0});var Bn=l(B);E(L.$$.fragment,Bn),q=p(Bn),E(W.$$.fragment,Bn),Bn.forEach(o),ve=p(Zn),E(pe.$$.fragment,Zn),Zn.forEach(o),Hn.forEach(o),Xo.forEach(o),ls=p(A),Ze=a(A,"SECTION",{"data-id":!0,class:!0});var sr=l(Ze);_e=a(sr,"DIV",{class:!0});var qn=l(_e);ee=a(qn,"DIV",{class:!0});var We=l(ee);Ht=a(We,"H2",{class:!0});var or=l(Ht);cs=C(or,"Built Form"),or.forEach(o),ds=p(We),yn=a(We,"P",{});var rr=l(yn);fs=C(rr,`Most of the buildings along the street consists of mixed-use commercial and residential
						structures, with small-scale retail directly fronting a sidewalk. Few properties have a
						significant setback from their roadway and heights are limited largely to a maximum of
						three storeys directly on the road — though taller structures do exist immediately to
						the south of the street, especially in its western segment. Many properties along Queen
						Street have alley access to the north and south. There is also a small strip mall in the
						extreme western segment of the street.`),rr.forEach(o),us=p(We),_n=a(We,"P",{});var ar=l(_n);hs=C(ar,`The street is served by multiple transit routes, most prominently a TTC streetcar route.
						While there is not bike infrastructure on the street beyond parking, there are protected
						bike lanes on some parallel streets.`),ar.forEach(o),ms=p(We),wn=a(We,"P",{});var ir=l(wn);gs=C(ir,`The most significant change in built-form along the route is the Centre for Addiction
						and Mental Health (CAMH), which occupies a significant property between Shaw and White
						Squirrel on the south of the street. On this stretch, the north side largely maintains
						the prevalent form, but in recent years CAMH has built a number of eight to ten storey
						institutional and mixed-use buildings as well as extended the street grid from the north
						to the south.`),ir.forEach(o),We.forEach(o),vs=p(qn),se=a(qn,"DIV",{class:!0});var ln=l(se);F=a(ln,"DIV",{class:!0});var ue=l(F);E(Be.$$.fragment,ue),ps=p(ue),E(qe.$$.fragment,ue),bs=p(ue),E(Ke.$$.fragment,ue),ys=p(ue),E(je.$$.fragment,ue),_s=p(ue),E(Ge.$$.fragment,ue),ue.forEach(o),ws=p(ln),E(Fe.$$.fragment,ln),$s=p(ln),Zt=a(ln,"DIV",{class:!0});var lr=l(Zt);E(Qe.$$.fragment,lr),lr.forEach(o),ln.forEach(o),qn.forEach(o),sr.forEach(o),Es=p(A),Ue=a(A,"SECTION",{"data-id":!0,class:!0});var cr=l(Ue);we=a(cr,"DIV",{class:!0});var Kn=l(we);te=a(Kn,"DIV",{class:!0});var Me=l(te);Bt=a(Me,"H2",{class:!0});var dr=l(Bt);ks=C(dr,"Civic Infrastructure"),dr.forEach(o),zs=p(Me),$n=a(Me,"P",{});var fr=l($n);Is=C(fr,`The most prominent example of civic infrastructure on the street is CAMH, occupying
						multiple blocks, employing and serving thousands of workers and patients. There are also
						a number of related medical services in the neighbourhood.`),fr.forEach(o),Ds=p(Me),En=a(Me,"P",{});var ur=l(En);Ts=C(ur,`East of CAMH, Queen Street’s heart might be best found at Trinity Bellwoods Park, a 15.4
						hectares green space. Within the park is a large, and popular, community centre, dog
						off-leash space and sports fields. The park has served as a community hub and gathering
						space in Toronto’s west end for years.`),ur.forEach(o),Ps=p(Me),Z=a(Me,"DIV",{class:!0});var R=l(Z);kn=a(R,"I",{});var hr=l(kn);zn=a(hr,"SMALL",{});var mr=l(zn);Vs=C(mr,"Click on a layer to turn it on or off"),mr.forEach(o),hr.forEach(o),xs=p(R),E(Re.$$.fragment,R),Cs=p(R),E(Ye.$$.fragment,R),Ss=p(R),E(Je.$$.fragment,R),Os=p(R),E(Xe.$$.fragment,R),Ls=p(R),E(et.$$.fragment,R),Ws=p(R),oe=a(R,"DIV",{class:!0});var cn=l(oe);E(tt.$$.fragment,cn),Ms=p(cn),E(nt.$$.fragment,cn),As=p(cn),E(st.$$.fragment,cn),cn.forEach(o),R.forEach(o),Me.forEach(o),Ns=p(Kn),$e=a(Kn,"DIV",{class:!0});var jn=l($e);E(ot.$$.fragment,jn),Hs=p(jn),qt=a(jn,"DIV",{class:!0});var gr=l(qt);E(rt.$$.fragment,gr),gr.forEach(o),jn.forEach(o),Kn.forEach(o),cr.forEach(o),Zs=p(A),at=a(A,"SECTION",{"data-id":!0,class:!0});var vr=l(at);Ee=a(vr,"DIV",{class:!0});var Gn=l(Ee);Q=a(Gn,"DIV",{class:!0});var he=l(Q);Kt=a(he,"H2",{class:!0});var pr=l(Kt);Bs=C(pr,"Business Profile"),pr.forEach(o),qs=p(he),In=a(he,"P",{});var br=l(In);Ks=C(br,`West Queen West is an established retail district, with many small to medium fashion
						stores along the street — with specific concentrations of casual wear, eye glasses, and
						shoes in different blocks. Other retail exists along the street, covering a vast range
						of items from bakeries to convenience stores to toy stores.`),br.forEach(o),js=p(he),Dn=a(he,"P",{});var yr=l(Dn);Gs=C(yr,`The services are relatively diverse, with a focus on restaurants — both formal, casual
						and fast food. No supermarket grocery store directly fronts the street on this stretch,
						but there are many located just off the street or on segments to the east and west.`),yr.forEach(o),Fs=p(he),Tn=a(he,"P",{});var _r=l(Tn);Qs=C(_r,`There are a number of event venues, especially in the western segment of the street
						which often draw large crowds for concerns and other events.`),_r.forEach(o),Us=p(he),U=a(he,"DIV",{class:!0});var me=l(U);Pn=a(me,"I",{});var wr=l(Pn);Vn=a(wr,"SMALL",{});var $r=l(Vn);Rs=C($r,"Click on a layer to turn it on or off"),$r.forEach(o),wr.forEach(o),Ys=p(me),E(it.$$.fragment,me),Js=p(me),E(lt.$$.fragment,me),Xs=p(me),E(ct.$$.fragment,me),eo=p(me),re=a(me,"DIV",{class:!0});var dn=l(re);E(dt.$$.fragment,dn),to=p(dn),E(ft.$$.fragment,dn),no=p(dn),E(ut.$$.fragment,dn),dn.forEach(o),me.forEach(o),he.forEach(o),so=p(Gn),ke=a(Gn,"DIV",{class:!0});var Fn=l(ke);E(ht.$$.fragment,Fn),oo=p(Fn),jt=a(Fn,"DIV",{class:!0});var Er=l(jt);E(mt.$$.fragment,Er),Er.forEach(o),Fn.forEach(o),Gn.forEach(o),vr.forEach(o),ro=p(A),gt=a(A,"SECTION",{"data-id":!0,class:!0});var kr=l(gt);ze=a(kr,"DIV",{class:!0});var Qn=l(ze);Ie=a(Qn,"DIV",{class:!0});var Un=l(Ie);Gt=a(Un,"H2",{class:!0});var zr=l(Gt);ao=C(zr,"Employment Profile"),zr.forEach(o),io=p(Un),xn=a(Un,"P",{});var Ir=l(xn);lo=C(Ir,`Employment along the street is largely distributed across hundreds of small businesses,
						with some businesses employing more. CAMH is a sizeable employer along the street — but
						most large employers are concentrated just east, in downtown, or south, in Liberty
						Village, of the street itself.`),Ir.forEach(o),Un.forEach(o),co=p(Qn),De=a(Qn,"DIV",{class:!0});var Rn=l(De);E(vt.$$.fragment,Rn),fo=p(Rn),Te=a(Rn,"DIV",{class:!0});var Yn=l(Te);be=a(Yn,"DIV",{});var fn=l(be);E(pt.$$.fragment,fn),uo=p(fn),E(bt.$$.fragment,fn),ho=p(fn),E(yt.$$.fragment,fn),fn.forEach(o),mo=p(Yn),_t=a(Yn,"IMG",{id:!0,src:!0,alt:!0}),Yn.forEach(o),Rn.forEach(o),Qn.forEach(o),kr.forEach(o),go=p(A),wt=a(A,"SECTION",{"data-id":!0,class:!0});var Dr=l(wt);Pe=a(Dr,"DIV",{class:!0});var Jn=l(Pe);ae=a(Jn,"DIV",{class:!0});var un=l(ae);Ft=a(un,"H2",{class:!0});var Tr=l(Ft);vo=C(Tr,"Housing"),Tr.forEach(o),po=p(un),Cn=a(un,"P",{});var Pr=l(Cn);bo=C(Pr,`The predominant housing form in the area are ground-oriented single family homes north
						of the street, and high-rise condominium and apartment buildings south of the street.
						There are exceptions to this and numerous examples of mid-rise apartment buildings
						throughout the street. Few newer developments directly front onto the street, other than
						some examples directly south of Trinity Bellwoods Park.`),Pr.forEach(o),yo=p(un),Sn=a(un,"P",{});var Vr=l(Sn);_o=C(Vr,`Generally, the population density is high for Canada and the GTA throughout the area,
						though south of the street is much denser with construction in the last 20 years. In
						contrast, the neighbourhoods north of the street have seen stable or declining
						populations in the same period as two-to-three unit buildings are converted into
						single-family houses.`),Vr.forEach(o),un.forEach(o),wo=p(Jn),ie=a(Jn,"DIV",{class:!0});var hn=l(ie);Ve=a(hn,"DIV",{class:!0});var Xn=l(Ve);E($t.$$.fragment,Xn),$o=p(Xn),E(Et.$$.fragment,Xn),Xn.forEach(o),Eo=p(hn),E(kt.$$.fragment,hn),ko=p(hn),xe=a(hn,"DIV",{class:!0});var es=l(xe);Qt=a(es,"DIV",{class:!0});var xr=l(Qt);E(zt.$$.fragment,xr),xr.forEach(o),zo=p(es),Ut=a(es,"DIV",{class:!0});var Cr=l(Ut);E(It.$$.fragment,Cr),Cr.forEach(o),es.forEach(o),hn.forEach(o),Jn.forEach(o),Dr.forEach(o),Io=p(A),Dt=a(A,"SECTION",{"data-id":!0,class:!0});var Sr=l(Dt);Ce=a(Sr,"DIV",{class:!0});var ts=l(Ce);le=a(ts,"DIV",{class:!0});var mn=l(le);Rt=a(mn,"H2",{class:!0});var Or=l(Rt);Do=C(Or,"Demographics"),Or.forEach(o),To=p(mn),On=a(mn,"P",{});var Lr=l(On);Po=C(Lr,`The neighbourhoods surrounding West Queen West are more highly educated and less likely
						to be a first generation immigrant than the regional average. Additionally, they are
						more likely to be both in the upper quintile of income, more likely to be in the bottom
						decile of income — indicating a polarized income distribution with limited
						representation of middle income households.`),Lr.forEach(o),Vo=p(mn),Yt=a(mn,"DIV",{class:!0});var Wr=l(Yt);E(Tt.$$.fragment,Wr),Wr.forEach(o),mn.forEach(o),xo=p(ts),Jt=a(ts,"DIV",{class:!0});var Mr=l(Jt);E(Pt.$$.fragment,Mr),Mr.forEach(o),ts.forEach(o),Sr.forEach(o),Co=p(A),Vt=a(A,"SECTION",{"data-id":!0,class:!0});var Ar=l(Vt);Se=a(Ar,"DIV",{class:!0});var ns=l(Se);ce=a(ns,"DIV",{class:!0});var gn=l(ce);Xt=a(gn,"H2",{class:!0});var Nr=l(Xt);So=C(Nr,"Visitors"),Nr.forEach(o),Oo=p(gn),Ln=a(gn,"P",{});var Hr=l(Ln);Lo=C(Hr,`West Queen West does draw visitors throughout the Greater Toronto Area, but with a
						significant concentration among local residents to the west end and downtown of Toronto.
						Generally, visitor traffic is heaviest on Fridays and Saturdays and in the late
						afternoon or evening.`),Hr.forEach(o),Wo=p(gn),Oe=a(gn,"DIV",{class:!0});var ss=l(Oe);en=a(ss,"H5",{class:!0});var Zr=l(en);Mo=C(Zr,"Year"),Zr.forEach(o),Ao=p(ss),E(de.$$.fragment,ss),ss.forEach(o),gn.forEach(o),Ho=p(ns),fe=a(ns,"DIV",{class:!0});var vn=l(fe);E(xt.$$.fragment,vn),Zo=p(vn),tn=a(vn,"DIV",{class:!0});var Br=l(tn);E(Le.$$.fragment,Br),Br.forEach(o),Bo=p(vn),X=a(vn,"DIV",{class:!0,id:!0});var Ae=l(X);nn=a(Ae,"DIV",{class:!0});var qr=l(nn);E(Ct.$$.fragment,qr),qr.forEach(o),qo=p(Ae),sn=a(Ae,"DIV",{class:!0});var Kr=l(sn);E(St.$$.fragment,Kr),Kr.forEach(o),Ko=p(Ae),on=a(Ae,"DIV",{class:!0});var jr=l(on);E(Ot.$$.fragment,jr),jr.forEach(o),jo=p(Ae),rn=a(Ae,"DIV",{class:!0});var Gr=l(rn);E(Lt.$$.fragment,Gr),Gr.forEach(o),Ae.forEach(o),vn.forEach(o),ns.forEach(o),Ar.forEach(o),A.forEach(o),Go=p(ye),E(Wt.$$.fragment,ye),ye.forEach(o),this.h()},h(){n(t,"rel","preconnect"),n(t,"href","https://fonts.googleapis.com"),n(s,"rel","preconnect"),n(s,"href","https://fonts.gstatic.com"),n(s,"crossorigin",""),n(h,"href","https://fonts.googleapis.com/css2?family=Gelasio:wght@400;600&family=Inter&display=swap"),n(h,"rel","stylesheet"),n(f,"href","https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css"),n(f,"rel","stylesheet"),n(V,"class","svelte-1o63v2z"),n(g,"class","content-container sticky-content svelte-1o63v2z"),n(B,"class","legend-container svelte-1o63v2z"),n(O,"class","map-container svelte-1o63v2z"),n(y,"class","section-container svelte-1o63v2z"),n(b,"data-id","map1"),n(b,"class","svelte-1o63v2z"),n(Ht,"class","svelte-1o63v2z"),n(ee,"class","content-container sticky-content svelte-1o63v2z"),n(F,"class","legend-container svelte-1o63v2z"),n(Zt,"class","chart svelte-1o63v2z"),n(se,"class","map-container svelte-1o63v2z"),n(_e,"class","section-container svelte-1o63v2z"),n(Ze,"data-id","map2"),n(Ze,"class","svelte-1o63v2z"),n(Bt,"class","svelte-1o63v2z"),n(oe,"class","checkbox svelte-1o63v2z"),n(Z,"class","controls svelte-1o63v2z"),n(te,"class","content-container sticky-content svelte-1o63v2z"),n(qt,"class","chart svelte-1o63v2z"),n($e,"class","map-container svelte-1o63v2z"),n(we,"class","section-container svelte-1o63v2z"),n(Ue,"data-id","map3"),n(Ue,"class","svelte-1o63v2z"),n(Kt,"class","svelte-1o63v2z"),n(re,"class","checkbox svelte-1o63v2z"),n(U,"class","controls svelte-1o63v2z"),n(Q,"class","content-container sticky-content svelte-1o63v2z"),n(jt,"class","chart svelte-1o63v2z"),n(ke,"class","map-container svelte-1o63v2z"),n(Ee,"class","section-container svelte-1o63v2z"),n(at,"data-id","map4"),n(at,"class","svelte-1o63v2z"),n(Gt,"class","svelte-1o63v2z"),n(Ie,"class","content-container sticky-content svelte-1o63v2z"),n(_t,"id","employmentsizelegend"),rs(_t.src,Yo=Xr)||n(_t,"src",Yo),n(_t,"alt","legend"),n(Te,"class","legend-container svelte-1o63v2z"),n(De,"class","map-container svelte-1o63v2z"),n(ze,"class","section-container svelte-1o63v2z"),n(gt,"data-id","map5"),n(gt,"class","svelte-1o63v2z"),n(Ft,"class","svelte-1o63v2z"),n(ae,"class","content-container sticky-content svelte-1o63v2z"),n(Ve,"class","legend-container svelte-1o63v2z"),n(Qt,"class","chart svelte-1o63v2z"),n(Ut,"class","chart svelte-1o63v2z"),n(xe,"class","graphics-container svelte-1o63v2z"),n(ie,"class","map-container svelte-1o63v2z"),n(Pe,"class","section-container svelte-1o63v2z"),n(wt,"data-id","map6"),n(wt,"class","svelte-1o63v2z"),n(Rt,"class","svelte-1o63v2z"),n(Yt,"class","controls svelte-1o63v2z"),n(le,"class","content-container sticky-content svelte-1o63v2z"),n(Jt,"class","map-container svelte-1o63v2z"),n(Ce,"class","section-container svelte-1o63v2z"),n(Dt,"data-id","map7"),n(Dt,"class","svelte-1o63v2z"),n(Xt,"class","svelte-1o63v2z"),n(en,"class","svelte-1o63v2z"),n(Oe,"class","controls svelte-1o63v2z"),n(ce,"class","content-container sticky-content svelte-1o63v2z"),n(tn,"class","legend-container svelte-1o63v2z"),n(nn,"class","chart svelte-1o63v2z"),n(sn,"class","chart svelte-1o63v2z"),n(on,"class","chart svelte-1o63v2z"),n(rn,"class","chart svelte-1o63v2z"),n(X,"class","graphics-container svelte-1o63v2z"),n(X,"id","visitor-charts"),n(fe,"class","map-container svelte-1o63v2z"),n(Se,"class","section-container svelte-1o63v2z"),n(Vt,"data-id","map8"),n(Vt,"class","svelte-1o63v2z"),n(u,"class","container")},m(i,ne){e(document.head,t),e(document.head,s),e(document.head,h),e(document.head,f),ge(i,c,ne),ge(i,d,ne),k(_,d,null),e(d,P),e(d,u),e(u,b),e(b,y),e(y,g),e(g,V),e(V,w),e(g,N),e(g,K),e(K,T),e(g,H),e(g,M),e(M,S),e(y,G),e(y,O),e(O,B),k(L,B,null),e(B,q),k(W,B,null),e(O,ve),k(pe,O,null),e(u,ls),e(u,Ze),e(Ze,_e),e(_e,ee),e(ee,Ht),e(Ht,cs),e(ee,ds),e(ee,yn),e(yn,fs),e(ee,us),e(ee,_n),e(_n,hs),e(ee,ms),e(ee,wn),e(wn,gs),e(_e,vs),e(_e,se),e(se,F),k(Be,F,null),e(F,ps),k(qe,F,null),e(F,bs),k(Ke,F,null),e(F,ys),k(je,F,null),e(F,_s),k(Ge,F,null),e(se,ws),k(Fe,se,null),e(se,$s),e(se,Zt),k(Qe,Zt,null),e(u,Es),e(u,Ue),e(Ue,we),e(we,te),e(te,Bt),e(Bt,ks),e(te,zs),e(te,$n),e($n,Is),e(te,Ds),e(te,En),e(En,Ts),e(te,Ps),e(te,Z),e(Z,kn),e(kn,zn),e(zn,Vs),e(Z,xs),k(Re,Z,null),e(Z,Cs),k(Ye,Z,null),e(Z,Ss),k(Je,Z,null),e(Z,Os),k(Xe,Z,null),e(Z,Ls),k(et,Z,null),e(Z,Ws),e(Z,oe),k(tt,oe,null),e(oe,Ms),k(nt,oe,null),e(oe,As),k(st,oe,null),e(we,Ns),e(we,$e),k(ot,$e,null),e($e,Hs),e($e,qt),k(rt,qt,null),e(u,Zs),e(u,at),e(at,Ee),e(Ee,Q),e(Q,Kt),e(Kt,Bs),e(Q,qs),e(Q,In),e(In,Ks),e(Q,js),e(Q,Dn),e(Dn,Gs),e(Q,Fs),e(Q,Tn),e(Tn,Qs),e(Q,Us),e(Q,U),e(U,Pn),e(Pn,Vn),e(Vn,Rs),e(U,Ys),k(it,U,null),e(U,Js),k(lt,U,null),e(U,Xs),k(ct,U,null),e(U,eo),e(U,re),k(dt,re,null),e(re,to),k(ft,re,null),e(re,no),k(ut,re,null),e(Ee,so),e(Ee,ke),k(ht,ke,null),e(ke,oo),e(ke,jt),k(mt,jt,null),e(u,ro),e(u,gt),e(gt,ze),e(ze,Ie),e(Ie,Gt),e(Gt,ao),e(Ie,io),e(Ie,xn),e(xn,lo),e(ze,co),e(ze,De),k(vt,De,null),e(De,fo),e(De,Te),e(Te,be),k(pt,be,null),e(be,uo),k(bt,be,null),e(be,ho),k(yt,be,null),e(Te,mo),e(Te,_t),e(u,go),e(u,wt),e(wt,Pe),e(Pe,ae),e(ae,Ft),e(Ft,vo),e(ae,po),e(ae,Cn),e(Cn,bo),e(ae,yo),e(ae,Sn),e(Sn,_o),e(Pe,wo),e(Pe,ie),e(ie,Ve),k($t,Ve,null),e(Ve,$o),k(Et,Ve,null),e(ie,Eo),k(kt,ie,null),e(ie,ko),e(ie,xe),e(xe,Qt),k(zt,Qt,null),e(xe,zo),e(xe,Ut),k(It,Ut,null),e(u,Io),e(u,Dt),e(Dt,Ce),e(Ce,le),e(le,Rt),e(Rt,Do),e(le,To),e(le,On),e(On,Po),e(le,Vo),e(le,Yt),k(Tt,Yt,null),e(Ce,xo),e(Ce,Jt),k(Pt,Jt,null),e(u,Co),e(u,Vt),e(Vt,Se),e(Se,ce),e(ce,Xt),e(Xt,So),e(ce,Oo),e(ce,Ln),e(Ln,Lo),e(ce,Wo),e(ce,Oe),e(Oe,en),e(en,Mo),e(Oe,Ao),k(de,Oe,null),e(Se,Ho),e(Se,fe),k(xt,fe,null),e(fe,Zo),e(fe,tn),k(Le,tn,null),e(fe,Bo),e(fe,X),e(X,nn),k(Ct,nn,null),e(X,qo),e(X,sn),k(St,sn,null),e(X,Ko),e(X,on),k(Ot,on,null),e(X,jo),e(X,rn),k(Lt,rn,null),e(d,Go),k(Wt,d,null),Nn=!0},p(i,[ne]){const ye={};!No&&ne&1&&(No=!0,ye.values=i[0],aa(()=>No=!1)),de.$set(ye);const A={};ne&4&&(A.maxlabel=Math.round(i[2])),Le.$set(A)},i(i){Nn||(z(_.$$.fragment,i),z(L.$$.fragment,i),z(W.$$.fragment,i),z(pe.$$.fragment,i),z(Be.$$.fragment,i),z(qe.$$.fragment,i),z(Ke.$$.fragment,i),z(je.$$.fragment,i),z(Ge.$$.fragment,i),z(Fe.$$.fragment,i),z(Qe.$$.fragment,i),z(Re.$$.fragment,i),z(Ye.$$.fragment,i),z(Je.$$.fragment,i),z(Xe.$$.fragment,i),z(et.$$.fragment,i),z(tt.$$.fragment,i),z(nt.$$.fragment,i),z(st.$$.fragment,i),z(ot.$$.fragment,i),z(rt.$$.fragment,i),z(it.$$.fragment,i),z(lt.$$.fragment,i),z(ct.$$.fragment,i),z(dt.$$.fragment,i),z(ft.$$.fragment,i),z(ut.$$.fragment,i),z(ht.$$.fragment,i),z(mt.$$.fragment,i),z(vt.$$.fragment,i),z(pt.$$.fragment,i),z(bt.$$.fragment,i),z(yt.$$.fragment,i),z($t.$$.fragment,i),z(Et.$$.fragment,i),z(kt.$$.fragment,i),z(zt.$$.fragment,i),z(It.$$.fragment,i),z(Tt.$$.fragment,i),z(Pt.$$.fragment,i),z(de.$$.fragment,i),z(xt.$$.fragment,i),z(Le.$$.fragment,i),z(Ct.$$.fragment,i),z(St.$$.fragment,i),z(Ot.$$.fragment,i),z(Lt.$$.fragment,i),z(Wt.$$.fragment,i),Nn=!0)},o(i){I(_.$$.fragment,i),I(L.$$.fragment,i),I(W.$$.fragment,i),I(pe.$$.fragment,i),I(Be.$$.fragment,i),I(qe.$$.fragment,i),I(Ke.$$.fragment,i),I(je.$$.fragment,i),I(Ge.$$.fragment,i),I(Fe.$$.fragment,i),I(Qe.$$.fragment,i),I(Re.$$.fragment,i),I(Ye.$$.fragment,i),I(Je.$$.fragment,i),I(Xe.$$.fragment,i),I(et.$$.fragment,i),I(tt.$$.fragment,i),I(nt.$$.fragment,i),I(st.$$.fragment,i),I(ot.$$.fragment,i),I(rt.$$.fragment,i),I(it.$$.fragment,i),I(lt.$$.fragment,i),I(ct.$$.fragment,i),I(dt.$$.fragment,i),I(ft.$$.fragment,i),I(ut.$$.fragment,i),I(ht.$$.fragment,i),I(mt.$$.fragment,i),I(vt.$$.fragment,i),I(pt.$$.fragment,i),I(bt.$$.fragment,i),I(yt.$$.fragment,i),I($t.$$.fragment,i),I(Et.$$.fragment,i),I(kt.$$.fragment,i),I(zt.$$.fragment,i),I(It.$$.fragment,i),I(Tt.$$.fragment,i),I(Pt.$$.fragment,i),I(de.$$.fragment,i),I(xt.$$.fragment,i),I(Le.$$.fragment,i),I(Ct.$$.fragment,i),I(St.$$.fragment,i),I(Ot.$$.fragment,i),I(Lt.$$.fragment,i),I(Wt.$$.fragment,i),Nn=!1},d(i){o(t),o(s),o(h),o(f),i&&o(c),i&&o(d),D(_),D(L),D(W),D(pe),D(Be),D(qe),D(Ke),D(je),D(Ge),D(Fe),D(Qe),D(Re),D(Ye),D(Je),D(Xe),D(et),D(tt),D(nt),D(st),D(ot),D(rt),D(it),D(lt),D(ct),D(dt),D(ft),D(ut),D(ht),D(mt),D(vt),D(pt),D(bt),D(yt),D($t),D(Et),D(kt),D(zt),D(It),D(Tt),D(Pt),D(de),D(xt),D(Le),D(Ct),D(St),D(Ot),D(Lt),D(Wt)}}}function Ha(m,t,s){let h,f;ia(m,Rr,S=>s(5,f=S));const c={business:"linear-gradient(to right, #cceffe, #99dffc, #34bef9, #018bc6, #004663)",popdensity:"linear-gradient(to right, #ebf9ff, #cceffe, #99dffc, #67cefb, #34bef9, #01aef8, #018bc6, #016895, #004663, #002332, #001d29)",avgincome:"linear-gradient(to right, #f7fcf5, #c9eac2, #7bc77c, #2a924b, #00441b, #002e12)",vismin:"linear-gradient(to right, #ffeddb, #fd9243, #df5005, #7f2704, #4a1703)",heatmap:"linear-gradient(to right, #0000ff, royalblue, cyan, lime, yellow, red)"};let d=[2022],_=["builtform","civicinfra","business","housing"],P={builtform:"2_Built_Form",civicinfra:"3_Civic",business:"4_Business",housing:"5_Housing"},u=null;ea.subscribe(S=>{s(1,u=S)});let b={};fa({cloudName:"dq4p0s7xo"});let{data:y}=t;const g=y.photos;function V(S=null){const G={type:"FeatureCollection",features:[]};return g.resources.forEach(O=>{let B,L;if(O.metadata.forEach(q=>{if(q.external_id==="latitude"){const W=q.value.replace(/\\/g,"").replace(/\s*deg/g,"°");B=Qr.sexagesimalToDecimal(W)}else if(q.external_id==="longitude"){const W=q.value.replace(/\\/g,"").replace(/\s*deg/g,"°");L=Qr.sexagesimalToDecimal(W)}}),B&&L&&(!S||O.public_id.includes(S))){let q=Ur(O.public_id,{transformations:{rawTransformation:"c_scale,h_300"}}),W=Ur(O.public_id,{transformations:{rawTransformation:"r_15,bo_15px_solid_white,c_scale,h_200"},format:"png"});const ve={type:"Feature",geometry:{type:"Point",coordinates:[L,B]},properties:{public_id:O.public_id,url:q,thumbnail:W}};G.features.push(ve)}}),G}const N=V().features.map(S=>({url:S.properties.thumbnail,id:S.properties.public_id}));An(()=>{bn.subscribe(S=>{b=S,Object.entries(b).forEach(([G,O])=>{if(O&&G){const B=_.find(L=>L===G);B&&(Promise.all(N.map(L=>new Promise((q,W)=>{O.loadImage(L.url,(ve,pe)=>{ve?(console.log(ve),W(ve)):(O.addImage(L.id,pe),q())})}))).then(()=>{console.log("Images loaded")}),O.on("style.load",()=>{const L=P[B];let q=V(L),W=`${B}-photos`;O.addSource(W,{type:"geojson",data:q}),O.addLayer({id:W,type:"symbol",source:W,layout:{"icon-image":["get","public_id"],"icon-ignore-placement":!0,"icon-size":.2,"icon-allow-overlap":!0,visibility:"visible"}})}))}})})});function K(S){d=S,s(0,d)}const T=S=>{const G=S.detail.value;if(u.isStyleLoaded()){[2019,2020,2021,2022].forEach(q=>{const W=q===G?"visible":"none";u.setLayoutProperty(`visitors-${q}`,"visibility",W)});const L=u.getPaintProperty(`visitors-${G}`,"heatmap-weight")[5];console.log(L),Rr.set(L)}else console.log("Map style is not loaded.")},H=S=>({date:new Date(`${S.date}`),Percentage:S.Percentage,Count:S.Count}),M=S=>Ea("%Y")(S);return m.$$set=S=>{"data"in S&&s(4,y=S.data)},m.$$.update=()=>{m.$$.dirty&32&&s(2,h=f)},[d,u,h,c,y,f,K,T,H,M]}class Qa extends Mt{constructor(t){super(),At(this,t,Ha,Na,Nt,{data:4})}}export{Qa as component};
