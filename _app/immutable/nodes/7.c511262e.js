import{S as pa,i as ma,s as fa,w as at,M as ot,k as s,a as o,y as p,N as ha,l as i,h as l,c as n,m as d,z as m,n as a,F as t,b as It,A as f,O as nt,g as h,d as y,B as $,L as ya,q as re,r as ae,E as $a}from"../chunks/index.33e32cf3.js";import{T as va,S as Pa,P as ba,C as _a,L as Q,I as oa,E as na}from"../chunks/Scroller.1258af9b.js";import{S as Aa,s as Ca,w as Lr,e as sa,b as ia,R as zr,C as St,D as Da,E as wa}from"../chunks/index.f4529ebd.js";import{M as ka}from"../chunks/MississaugaDundas.2e86f419.js";/* empty css                       */import{m as la,L as Vr}from"../chunks/Legend.a0bd7103.js";import{I as ca}from"../chunks/Icon.a5a3afcc.js";const Ma=!0,Ka=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ma},Symbol.toStringTag,{value:"Module"})),Ta=[{Area:"Mississauga Dundas","Housing Type":"Single-Detached",Percentage:22.7344},{Area:"Mississauga Dundas","Housing Type":"Semi-Detached",Percentage:7.2461},{Area:"Mississauga Dundas","Housing Type":"Row",Percentage:13.6914},{Area:"Mississauga Dundas","Housing Type":"High-rise Apartment",Percentage:39.0625},{Area:"Mississauga Dundas","Housing Type":"Low-rise Apartment",Percentage:15.5078},{Area:"Mississauga Dundas","Housing Type":"Duplex",Percentage:1.7578},{Area:"Toronto CMA","Housing Type":"Single-Detached",Percentage:38.9745},{Area:"Toronto CMA","Housing Type":"Semi-Detached",Percentage:7.2539},{Area:"Toronto CMA","Housing Type":"Row",Percentage:9.2935},{Area:"Toronto CMA","Housing Type":"High-rise Apartment",Percentage:31.0647},{Area:"Toronto CMA","Housing Type":"Low-rise Apartment",Percentage:9.4514},{Area:"Toronto CMA","Housing Type":"Duplex",Percentage:3.962}],Ea=[{Area:"Mississauga Dundas","Construction Year":"Pre 1960",Percentage:13.6424},{Area:"Mississauga Dundas","Construction Year":"1961-1980",Percentage:53.0808},{Area:"Mississauga Dundas","Construction Year":"1981-1990",Percentage:13.3409},{Area:"Mississauga Dundas","Construction Year":"1991-2000",Percentage:8.7997},{Area:"Mississauga Dundas","Construction Year":"2001-2005",Percentage:3.2222},{Area:"Mississauga Dundas","Construction Year":"2006-2010",Percentage:3.6367},{Area:"Mississauga Dundas","Construction Year":"2011-2015",Percentage:1.7712},{Area:"Mississauga Dundas","Construction Year":"2016-2021",Percentage:.3769},{Area:"Mississauga Dundas","Construction Year":"After 2021",Percentage:2.1293},{Area:"Toronto CMA","Construction Year":"Pre 1960",Percentage:17.6213},{Area:"Toronto CMA","Construction Year":"1961-1980",Percentage:23.7454},{Area:"Toronto CMA","Construction Year":"1981-1990",Percentage:12.7863},{Area:"Toronto CMA","Construction Year":"1991-2000",Percentage:12.1339},{Area:"Toronto CMA","Construction Year":"2001-2005",Percentage:8.1713},{Area:"Toronto CMA","Construction Year":"2006-2010",Percentage:7.3894},{Area:"Toronto CMA","Construction Year":"2011-2015",Percentage:7.3377},{Area:"Toronto CMA","Construction Year":"2016-2021",Percentage:7.6741},{Area:"Toronto CMA","Construction Year":"After 2021",Percentage:3.1406}],Sa=[{Area:"Mississauga Dundas","Degree Attained":"No certificate",Percentage:9.6757},{Area:"Mississauga Dundas","Degree Attained":"High school diploma",Percentage:28.0811},{Area:"Mississauga Dundas","Degree Attained":"Postsecondary certificate",Percentage:30.7838},{Area:"Mississauga Dundas","Degree Attained":"Bachelors degree or higher",Percentage:31.4595},{Area:"Toronto CMA","Degree Attained":"No certificate",Percentage:7.2626},{Area:"Toronto CMA","Degree Attained":"High school diploma",Percentage:20.8345},{Area:"Toronto CMA","Degree Attained":"Postsecondary certificate",Percentage:26.5912},{Area:"Toronto CMA","Degree Attained":"Bachelors degree or higher",Percentage:45.3117}],Ia=[{Area:"Mississauga Dundas","Generation Status":"First",Percentage:60.1497},{Area:"Mississauga Dundas","Generation Status":"Second",Percentage:24.0936},{Area:"Mississauga Dundas","Generation Status":"Third or more",Percentage:15.7566},{Area:"Toronto CMA","Generation Status":"First",Percentage:50.909},{Area:"Toronto CMA","Generation Status":"Second",Percentage:27.6628},{Area:"Toronto CMA","Generation Status":"Third or more",Percentage:21.4282}];function Ha(c){let g,v,b,k,C,M,N;b=new ba({props:{map:c[0]}});function G(P){c[18](P)}let B={interactive:!1,location:{lng:79,lat:43,zoom:1.8},style:"mapbox://styles/ananmay/clm6f8mdm02j701qi0i1b9hxh?&fresh=true?optimize=true"};return c[0]!==void 0&&(B.map=c[0]),C=new _a({props:B}),at.push(()=>ot(C,"map",G)),{c(){g=s("div"),v=s("div"),p(b.$$.fragment),k=o(),p(C.$$.fragment),this.h()},l(P){g=i(P,"DIV",{slot:!0,class:!0});var I=d(g);v=i(I,"DIV",{});var j=d(v);m(b.$$.fragment,j),j.forEach(l),k=n(I),m(C.$$.fragment,I),I.forEach(l),this.h()},h(){a(g,"slot","background"),a(g,"class","svelte-5rdrag")},m(P,I){It(P,g,I),t(g,v),f(b,v,null),t(g,k),f(C,g,null),N=!0},p(P,I){const j={};I&1&&(j.map=P[0]),b.$set(j);const O={};!M&&I&1&&(M=!0,O.map=P[0],nt(()=>M=!1)),C.$set(O)},i(P){N||(h(b.$$.fragment,P),h(C.$$.fragment,P),N=!0)},o(P){y(b.$$.fragment,P),y(C.$$.fragment,P),N=!1},d(P){P&&l(g),$(b),$(C)}}}function La(c){let g,v,b,k,C,M,N,G,B,P,I,j,O,A,Y,oe,e,ge,Ce,X,_,T,R,ne,st,de,it,qe,u,z,E,V,w,S,W,ee,lt,ct,De,Ht,we,H,Je,Lt,zt,vt,Vt,gt,ut,xt,Nt,ke,Bt,Me,Ot,Te,Yt,Ee,Rt,Se,Ft,me,fe,Kt,he,Gt,Ie,F,Ue,jt,Zt,Pt,qt,dt,pt,Jt,Ut,He,Qt,Le,Wt,ze,Xt,ye,$e,er,ve,tr,Ve,Z,Qe,rr,ar,bt,or,xe,nr,Ne,sr,Be,ir,Pe,xr,lr,Oe,q,We,cr,gr,_t,ur,Ye,dr,At,pr,Re,mr,Fe,fr,Ke,J,Xe,hr,yr,Ct,$r,be,vr,Dt,Pr,Ge,br,je,_r,Ze,x,et,Ar,Cr,wt,Dr,tt,wr,kr,ue,Mr,Tr,rt,Er,Sr,_e,Ir,kt,Hr,Ae,Mt;B=new Vr({props:{minlabel:"Low",maxlabel:"High",label:"Business Density",gradient:c[7].civic}}),I=new Q({props:{variant:"polygon",label:"Mississauga Dundas",bgcolor:"#ffdd33",bordercolor:"#c4ad37"}}),X=new Q({props:{variant:"polygon",label:"Mississauga Dundas",bgcolor:"#ffdd33",bordercolor:"#c4ad37"}}),T=new Q({props:{variant:"polygon",label:"Green Spaces",bgcolor:"#43b171"}}),ne=new Q({props:{variant:"polygon",label:"Buildings",bgcolor:"#d4d4d4",bordercolor:"#999797"}}),de=new Q({props:{variant:"line",label:"Transit",bordercolor:"#ff4242"}}),S=new ca({props:{icon:"mdi:chevron-left",color:"#0098D6",width:"36"}});function ua(r){c[12](r)}let Nr={min:0,max:9,all:"false",hoverable:!1};c[3]!==void 0&&(Nr.values=c[3]),ee=new zr({props:Nr}),at.push(()=>ot(ee,"values",ua)),ee.$on("change",c[13]),De=new ca({props:{icon:"mdi:chevron-right",color:"#0098D6",width:"36"}}),ke=new Q({props:{variant:"circle",label:"Arts and Culture",bgcolor:"#DB3069",bordercolor:"#fff",button:!0,id:"civicinfra-toronto-arts-culture"}}),Me=new Q({props:{variant:"circle",label:"Government and Community Services",bgcolor:"#8A4285",bordercolor:"#fff",button:!0,id:"civicinfra-toronto-govt-community"}}),Te=new Q({props:{variant:"circle",label:"Recreation and Facilities",bgcolor:"#43B171",bordercolor:"#fff",button:!0,id:"civicinfra-toronto-recreation"}}),Ee=new Q({props:{variant:"circle",label:"Health and Care Facilities",bgcolor:"#33AED7",bordercolor:"#fff",button:!0,id:"civicinfra-toronto-health"}}),Se=new Q({props:{variant:"circle",label:"Education",bgcolor:"#F45D01",bordercolor:"#fff",button:!0,id:"civicinfra-toronto-education"}}),fe=new oa({props:{map:c[0],layer:"missdundas-isochrone",minZoom:13,maxZoom:13.5}}),he=new na({props:{map:c[0],layers:["civicinfra-toronto-education","civicinfra-toronto-govt-community","civicinfra-toronto-arts-culture","civicinfra-toronto-education","civicinfra-toronto-recreation"],minZoom:13,maxZoom:13.5}}),He=new Q({props:{variant:"circle",label:"Retail",bgcolor:"#F13737",bordercolor:"#fff",button:!0,id:"business-toronto-retail"}}),Le=new Q({props:{variant:"circle",label:"Services and Other",bgcolor:"#2a5cac",bordercolor:"#fff",button:!0,id:"business-toronto-services"}}),ze=new Q({props:{variant:"circle",label:"Food and Drink",bgcolor:"#43b171",bordercolor:"#fff",button:!0,id:"business-toronto-food-drink"}}),$e=new oa({props:{map:c[0],layer:"missdundas-isochrone",minZoom:13,maxZoom:13.5}}),ve=new na({props:{map:c[0],layers:["business-toronto-retail","business-toronto-services","business-toronto-food-drink"],minZoom:13,maxZoom:13.5}}),xe=new Q({props:{variant:"circle",label:"Civic Infrastructure",bgcolor:"#db3069",bordercolor:"#fff"}}),Ne=new Q({props:{variant:"circle",label:"Businesses",bgcolor:"#2a5cac",bordercolor:"#fff"}}),Be=new Q({props:{variant:"circle",label:"Other",bgcolor:"#b0b0b0",bordercolor:"#fff"}}),Ye=new Vr({props:{minlabel:"0",maxlabel:"4070000",label:"Population Density (people/sq.km)",gradient:c[7].popdensity}}),Re=new St({props:{colors:["#2A5CAB","#DB3069"],data:Ta,xKey:"Housing Type",yKey:"Percentage",zKey:"Area",mode:"grouped",title:"Housing Type"}}),Fe=new St({props:{colors:["#2A5CAB","#DB3069"],data:Ea,xKey:"Construction Year",yKey:"Percentage",zKey:"Area",mode:"grouped",title:"Housing Year",legend:!0}}),be=new Da({props:{map:c[0],options:[{id:"averageincome",text:"Average Income"},{id:"populationdensity",text:"Population Density"},{id:"visibleminority",text:"Visible Minorities"}]}}),Ge=new St({props:{colors:["#2A5CAB","#DB3069"],data:Sa,xKey:"Degree Attained",yKey:"Percentage",zKey:"Area",mode:"grouped",title:"Educational Attainment"}}),je=new St({props:{colors:["#2A5CAB","#DB3069"],data:Ia,xKey:"Generation Status",yKey:"Percentage",zKey:"Area",mode:"grouped",title:"Immigration Status",legend:!0}});function da(r){c[14](r)}let Br={min:2019,max:2022,pips:!0,all:"label",hoverable:!1};return c[6]!==void 0&&(Br.values=c[6]),ue=new zr({props:Br}),at.push(()=>ot(ue,"values",da)),ue.$on("change",c[15]),_e=new zr({props:{values:[c[8][0]],pips:!0,first:"label",last:"label",formatter:c[16],max:c[8].length-1,hoverable:!1}}),_e.$on("change",c[17]),Ae=new Vr({props:{minlabel:"0",maxlabel:Math.round(c[2]),label:"Number of Daily Visits from Visitor Home Location",gradient:c[7].heatmap}}),{c(){g=s("div"),v=s("section"),b=s("div"),k=s("h2"),C=re("Overview"),M=o(),N=s("hr"),G=o(),p(B.$$.fragment),P=o(),p(I.$$.fragment),j=o(),O=s("section"),A=s("div"),Y=s("h2"),oe=re("Built Form"),e=o(),ge=s("hr"),Ce=o(),p(X.$$.fragment),_=o(),p(T.$$.fragment),R=o(),p(ne.$$.fragment),st=o(),p(de.$$.fragment),it=o(),qe=s("hr"),u=o(),z=s("small"),E=re("Drag the slider to pan the map between left and right"),V=o(),w=s("div"),p(S.$$.fragment),W=o(),p(ee.$$.fragment),ct=o(),p(De.$$.fragment),Ht=o(),we=s("section"),H=s("div"),Je=s("h2"),Lt=re("Civic Infrastructure"),zt=o(),vt=s("hr"),Vt=o(),gt=s("i"),ut=s("small"),xt=re("Click on a layer to turn it on or off"),Nt=o(),p(ke.$$.fragment),Bt=o(),p(Me.$$.fragment),Ot=o(),p(Te.$$.fragment),Yt=o(),p(Ee.$$.fragment),Rt=o(),p(Se.$$.fragment),Ft=o(),me=s("div"),p(fe.$$.fragment),Kt=o(),p(he.$$.fragment),Gt=o(),Ie=s("section"),F=s("div"),Ue=s("h2"),jt=re("Business Profile"),Zt=o(),Pt=s("hr"),qt=o(),dt=s("i"),pt=s("small"),Jt=re("Click on a layer to turn it on or off"),Ut=o(),p(He.$$.fragment),Qt=o(),p(Le.$$.fragment),Wt=o(),p(ze.$$.fragment),Xt=o(),ye=s("div"),p($e.$$.fragment),er=o(),p(ve.$$.fragment),tr=o(),Ve=s("section"),Z=s("div"),Qe=s("h2"),rr=re("Employment Profile"),ar=o(),bt=s("hr"),or=o(),p(xe.$$.fragment),nr=o(),p(Ne.$$.fragment),sr=o(),p(Be.$$.fragment),ir=o(),Pe=s("img"),lr=o(),Oe=s("section"),q=s("div"),We=s("h2"),cr=re("Housing"),gr=o(),_t=s("hr"),ur=o(),p(Ye.$$.fragment),dr=o(),At=s("hr"),pr=o(),p(Re.$$.fragment),mr=o(),p(Fe.$$.fragment),fr=o(),Ke=s("section"),J=s("div"),Xe=s("h2"),hr=re("Demographics"),yr=o(),Ct=s("hr"),$r=o(),p(be.$$.fragment),vr=o(),Dt=s("hr"),Pr=o(),p(Ge.$$.fragment),br=o(),p(je.$$.fragment),_r=o(),Ze=s("section"),x=s("div"),et=s("h2"),Ar=re("Visitors"),Cr=o(),wt=s("hr"),Dr=o(),tt=s("h5"),wr=re("Year"),kr=o(),p(ue.$$.fragment),Tr=o(),rt=s("h5"),Er=re("Zoom"),Sr=o(),p(_e.$$.fragment),Ir=o(),kt=s("hr"),Hr=o(),p(Ae.$$.fragment),this.h()},l(r){g=i(r,"DIV",{slot:!0,class:!0});var D=d(g);v=i(D,"SECTION",{"data-id":!0,class:!0});var mt=d(v);b=i(mt,"DIV",{class:!0});var ce=d(b);k=i(ce,"H2",{class:!0});var ft=d(k);C=ae(ft,"Overview"),ft.forEach(l),M=n(ce),N=i(ce,"HR",{class:!0}),G=n(ce),m(B.$$.fragment,ce),P=n(ce),m(I.$$.fragment,ce),ce.forEach(l),mt.forEach(l),j=n(D),O=i(D,"SECTION",{"data-id":!0,class:!0});var ht=d(O);A=i(ht,"DIV",{class:!0});var L=d(A);Y=i(L,"H2",{class:!0});var yt=d(Y);oe=ae(yt,"Built Form"),yt.forEach(l),e=n(L),ge=i(L,"HR",{class:!0}),Ce=n(L),m(X.$$.fragment,L),_=n(L),m(T.$$.fragment,L),R=n(L),m(ne.$$.fragment,L),st=n(L),m(de.$$.fragment,L),it=n(L),qe=i(L,"HR",{class:!0}),u=n(L),z=i(L,"SMALL",{});var $t=d(z);E=ae($t,"Drag the slider to pan the map between left and right"),$t.forEach(l),V=n(L),w=i(L,"DIV",{id:!0,class:!0});var pe=d(w);m(S.$$.fragment,pe),W=n(pe),m(ee.$$.fragment,pe),ct=n(pe),m(De.$$.fragment,pe),pe.forEach(l),L.forEach(l),ht.forEach(l),Ht=n(D),we=i(D,"SECTION",{"data-id":!0,class:!0});var Or=d(we);H=i(Or,"DIV",{class:!0});var K=d(H);Je=i(K,"H2",{class:!0});var Yr=d(Je);Lt=ae(Yr,"Civic Infrastructure"),Yr.forEach(l),zt=n(K),vt=i(K,"HR",{class:!0}),Vt=n(K),gt=i(K,"I",{});var Rr=d(gt);ut=i(Rr,"SMALL",{});var Fr=d(ut);xt=ae(Fr,"Click on a layer to turn it on or off"),Fr.forEach(l),Rr.forEach(l),Nt=n(K),m(ke.$$.fragment,K),Bt=n(K),m(Me.$$.fragment,K),Ot=n(K),m(Te.$$.fragment,K),Yt=n(K),m(Ee.$$.fragment,K),Rt=n(K),m(Se.$$.fragment,K),Ft=n(K),me=i(K,"DIV",{class:!0});var Tt=d(me);m(fe.$$.fragment,Tt),Kt=n(Tt),m(he.$$.fragment,Tt),Tt.forEach(l),K.forEach(l),Or.forEach(l),Gt=n(D),Ie=i(D,"SECTION",{"data-id":!0,class:!0});var Kr=d(Ie);F=i(Kr,"DIV",{class:!0});var te=d(F);Ue=i(te,"H2",{class:!0});var Gr=d(Ue);jt=ae(Gr,"Business Profile"),Gr.forEach(l),Zt=n(te),Pt=i(te,"HR",{class:!0}),qt=n(te),dt=i(te,"I",{});var jr=d(dt);pt=i(jr,"SMALL",{});var Zr=d(pt);Jt=ae(Zr,"Click on a layer to turn it on or off"),Zr.forEach(l),jr.forEach(l),Ut=n(te),m(He.$$.fragment,te),Qt=n(te),m(Le.$$.fragment,te),Wt=n(te),m(ze.$$.fragment,te),Xt=n(te),ye=i(te,"DIV",{class:!0});var Et=d(ye);m($e.$$.fragment,Et),er=n(Et),m(ve.$$.fragment,Et),Et.forEach(l),te.forEach(l),Kr.forEach(l),tr=n(D),Ve=i(D,"SECTION",{"data-id":!0,class:!0});var qr=d(Ve);Z=i(qr,"DIV",{class:!0});var se=d(Z);Qe=i(se,"H2",{class:!0});var Jr=d(Qe);rr=ae(Jr,"Employment Profile"),Jr.forEach(l),ar=n(se),bt=i(se,"HR",{class:!0}),or=n(se),m(xe.$$.fragment,se),nr=n(se),m(Ne.$$.fragment,se),sr=n(se),m(Be.$$.fragment,se),ir=n(se),Pe=i(se,"IMG",{id:!0,src:!0,alt:!0,class:!0}),se.forEach(l),qr.forEach(l),lr=n(D),Oe=i(D,"SECTION",{"data-id":!0,class:!0});var Ur=d(Oe);q=i(Ur,"DIV",{class:!0});var ie=d(q);We=i(ie,"H2",{class:!0});var Qr=d(We);cr=ae(Qr,"Housing"),Qr.forEach(l),gr=n(ie),_t=i(ie,"HR",{class:!0}),ur=n(ie),m(Ye.$$.fragment,ie),dr=n(ie),At=i(ie,"HR",{class:!0}),pr=n(ie),m(Re.$$.fragment,ie),mr=n(ie),m(Fe.$$.fragment,ie),ie.forEach(l),Ur.forEach(l),fr=n(D),Ke=i(D,"SECTION",{"data-id":!0,class:!0});var Wr=d(Ke);J=i(Wr,"DIV",{class:!0});var le=d(J);Xe=i(le,"H2",{class:!0});var Xr=d(Xe);hr=ae(Xr,"Demographics"),Xr.forEach(l),yr=n(le),Ct=i(le,"HR",{class:!0}),$r=n(le),m(be.$$.fragment,le),vr=n(le),Dt=i(le,"HR",{class:!0}),Pr=n(le),m(Ge.$$.fragment,le),br=n(le),m(je.$$.fragment,le),le.forEach(l),Wr.forEach(l),_r=n(D),Ze=i(D,"SECTION",{"data-id":!0,class:!0});var ea=d(Ze);x=i(ea,"DIV",{class:!0});var U=d(x);et=i(U,"H2",{class:!0});var ta=d(et);Ar=ae(ta,"Visitors"),ta.forEach(l),Cr=n(U),wt=i(U,"HR",{class:!0}),Dr=n(U),tt=i(U,"H5",{class:!0});var ra=d(tt);wr=ae(ra,"Year"),ra.forEach(l),kr=n(U),m(ue.$$.fragment,U),Tr=n(U),rt=i(U,"H5",{class:!0});var aa=d(rt);Er=ae(aa,"Zoom"),aa.forEach(l),Sr=n(U),m(_e.$$.fragment,U),Ir=n(U),kt=i(U,"HR",{class:!0}),Hr=n(U),m(Ae.$$.fragment,U),U.forEach(l),ea.forEach(l),D.forEach(l),this.h()},h(){a(k,"class","svelte-5rdrag"),a(N,"class","svelte-5rdrag"),a(b,"class","col-medium svelte-5rdrag"),a(v,"data-id","map1"),a(v,"class","svelte-5rdrag"),a(Y,"class","svelte-5rdrag"),a(ge,"class","svelte-5rdrag"),a(qe,"class","svelte-5rdrag"),a(w,"id","mapSlider"),a(w,"class","svelte-5rdrag"),a(A,"class","col-medium svelte-5rdrag"),a(O,"data-id","map2"),a(O,"class","svelte-5rdrag"),a(Je,"class","svelte-5rdrag"),a(vt,"class","svelte-5rdrag"),a(me,"class","controls svelte-5rdrag"),a(H,"class","col-medium svelte-5rdrag"),a(we,"data-id","map3"),a(we,"class","svelte-5rdrag"),a(Ue,"class","svelte-5rdrag"),a(Pt,"class","svelte-5rdrag"),a(ye,"class","controls svelte-5rdrag"),a(F,"class","col-medium svelte-5rdrag"),a(Ie,"data-id","map4"),a(Ie,"class","svelte-5rdrag"),a(Qe,"class","svelte-5rdrag"),a(bt,"class","svelte-5rdrag"),a(Pe,"id","empsizelegend"),$a(Pe.src,xr=wa)||a(Pe,"src",xr),a(Pe,"alt","legend"),a(Pe,"class","svelte-5rdrag"),a(Z,"class","col-medium svelte-5rdrag"),a(Ve,"data-id","map5"),a(Ve,"class","svelte-5rdrag"),a(We,"class","svelte-5rdrag"),a(_t,"class","svelte-5rdrag"),a(At,"class","svelte-5rdrag"),a(q,"class","col-medium svelte-5rdrag"),a(Oe,"data-id","map6"),a(Oe,"class","svelte-5rdrag"),a(Xe,"class","svelte-5rdrag"),a(Ct,"class","svelte-5rdrag"),a(Dt,"class","svelte-5rdrag"),a(J,"class","col-medium svelte-5rdrag"),a(Ke,"data-id","map7"),a(Ke,"class","svelte-5rdrag"),a(et,"class","svelte-5rdrag"),a(wt,"class","svelte-5rdrag"),a(tt,"class","svelte-5rdrag"),a(rt,"class","svelte-5rdrag"),a(kt,"class","svelte-5rdrag"),a(x,"class","col-medium svelte-5rdrag"),a(Ze,"data-id","map8"),a(Ze,"class","svelte-5rdrag"),a(g,"slot","foreground"),a(g,"class","svelte-5rdrag")},m(r,D){It(r,g,D),t(g,v),t(v,b),t(b,k),t(k,C),t(b,M),t(b,N),t(b,G),f(B,b,null),t(b,P),f(I,b,null),t(g,j),t(g,O),t(O,A),t(A,Y),t(Y,oe),t(A,e),t(A,ge),t(A,Ce),f(X,A,null),t(A,_),f(T,A,null),t(A,R),f(ne,A,null),t(A,st),f(de,A,null),t(A,it),t(A,qe),t(A,u),t(A,z),t(z,E),t(A,V),t(A,w),f(S,w,null),t(w,W),f(ee,w,null),t(w,ct),f(De,w,null),t(g,Ht),t(g,we),t(we,H),t(H,Je),t(Je,Lt),t(H,zt),t(H,vt),t(H,Vt),t(H,gt),t(gt,ut),t(ut,xt),t(H,Nt),f(ke,H,null),t(H,Bt),f(Me,H,null),t(H,Ot),f(Te,H,null),t(H,Yt),f(Ee,H,null),t(H,Rt),f(Se,H,null),t(H,Ft),t(H,me),f(fe,me,null),t(me,Kt),f(he,me,null),t(g,Gt),t(g,Ie),t(Ie,F),t(F,Ue),t(Ue,jt),t(F,Zt),t(F,Pt),t(F,qt),t(F,dt),t(dt,pt),t(pt,Jt),t(F,Ut),f(He,F,null),t(F,Qt),f(Le,F,null),t(F,Wt),f(ze,F,null),t(F,Xt),t(F,ye),f($e,ye,null),t(ye,er),f(ve,ye,null),t(g,tr),t(g,Ve),t(Ve,Z),t(Z,Qe),t(Qe,rr),t(Z,ar),t(Z,bt),t(Z,or),f(xe,Z,null),t(Z,nr),f(Ne,Z,null),t(Z,sr),f(Be,Z,null),t(Z,ir),t(Z,Pe),t(g,lr),t(g,Oe),t(Oe,q),t(q,We),t(We,cr),t(q,gr),t(q,_t),t(q,ur),f(Ye,q,null),t(q,dr),t(q,At),t(q,pr),f(Re,q,null),t(q,mr),f(Fe,q,null),t(g,fr),t(g,Ke),t(Ke,J),t(J,Xe),t(Xe,hr),t(J,yr),t(J,Ct),t(J,$r),f(be,J,null),t(J,vr),t(J,Dt),t(J,Pr),f(Ge,J,null),t(J,br),f(je,J,null),t(g,_r),t(g,Ze),t(Ze,x),t(x,et),t(et,Ar),t(x,Cr),t(x,wt),t(x,Dr),t(x,tt),t(tt,wr),t(x,kr),f(ue,x,null),t(x,Tr),t(x,rt),t(rt,Er),t(x,Sr),f(_e,x,null),t(x,Ir),t(x,kt),t(x,Hr),f(Ae,x,null),Mt=!0},p(r,D){const mt={};!lt&&D&8&&(lt=!0,mt.values=r[3],nt(()=>lt=!1)),ee.$set(mt);const ce={};D&1&&(ce.map=r[0]),fe.$set(ce);const ft={};D&1&&(ft.map=r[0]),he.$set(ft);const ht={};D&1&&(ht.map=r[0]),$e.$set(ht);const L={};D&1&&(L.map=r[0]),ve.$set(L);const yt={};D&1&&(yt.map=r[0]),be.$set(yt);const $t={};!Mr&&D&64&&(Mr=!0,$t.values=r[6],nt(()=>Mr=!1)),ue.$set($t);const pe={};D&4&&(pe.maxlabel=Math.round(r[2])),Ae.$set(pe)},i(r){Mt||(h(B.$$.fragment,r),h(I.$$.fragment,r),h(X.$$.fragment,r),h(T.$$.fragment,r),h(ne.$$.fragment,r),h(de.$$.fragment,r),h(S.$$.fragment,r),h(ee.$$.fragment,r),h(De.$$.fragment,r),h(ke.$$.fragment,r),h(Me.$$.fragment,r),h(Te.$$.fragment,r),h(Ee.$$.fragment,r),h(Se.$$.fragment,r),h(fe.$$.fragment,r),h(he.$$.fragment,r),h(He.$$.fragment,r),h(Le.$$.fragment,r),h(ze.$$.fragment,r),h($e.$$.fragment,r),h(ve.$$.fragment,r),h(xe.$$.fragment,r),h(Ne.$$.fragment,r),h(Be.$$.fragment,r),h(Ye.$$.fragment,r),h(Re.$$.fragment,r),h(Fe.$$.fragment,r),h(be.$$.fragment,r),h(Ge.$$.fragment,r),h(je.$$.fragment,r),h(ue.$$.fragment,r),h(_e.$$.fragment,r),h(Ae.$$.fragment,r),Mt=!0)},o(r){y(B.$$.fragment,r),y(I.$$.fragment,r),y(X.$$.fragment,r),y(T.$$.fragment,r),y(ne.$$.fragment,r),y(de.$$.fragment,r),y(S.$$.fragment,r),y(ee.$$.fragment,r),y(De.$$.fragment,r),y(ke.$$.fragment,r),y(Me.$$.fragment,r),y(Te.$$.fragment,r),y(Ee.$$.fragment,r),y(Se.$$.fragment,r),y(fe.$$.fragment,r),y(he.$$.fragment,r),y(He.$$.fragment,r),y(Le.$$.fragment,r),y(ze.$$.fragment,r),y($e.$$.fragment,r),y(ve.$$.fragment,r),y(xe.$$.fragment,r),y(Ne.$$.fragment,r),y(Be.$$.fragment,r),y(Ye.$$.fragment,r),y(Re.$$.fragment,r),y(Fe.$$.fragment,r),y(be.$$.fragment,r),y(Ge.$$.fragment,r),y(je.$$.fragment,r),y(ue.$$.fragment,r),y(_e.$$.fragment,r),y(Ae.$$.fragment,r),Mt=!1},d(r){r&&l(g),$(B),$(I),$(X),$(T),$(ne),$(de),$(S),$(ee),$(De),$(ke),$(Me),$(Te),$(Ee),$(Se),$(fe),$(he),$(He),$(Le),$(ze),$($e),$(ve),$(xe),$(Ne),$(Be),$(Ye),$(Re),$(Fe),$(be),$(Ge),$(je),$(ue),$(_e),$(Ae)}}}function za(c){let g,v,b,k,C,M,N,G,B,P,I,j,O,A,Y,oe;N=new va({props:{image:ka,name:"Mississauga Dundas",location:"Toronto, Ontario"}});function e(_){c[19](_)}function ge(_){c[20](_)}function Ce(_){c[21](_)}let X={$$slots:{foreground:[La],background:[Ha]},$$scope:{ctx:c}};return c[4]!==void 0&&(X.count=c[4]),c[1]!==void 0&&(X.index=c[1]),c[5]!==void 0&&(X.progress=c[5]),P=new Pa({props:X}),at.push(()=>ot(P,"count",e)),at.push(()=>ot(P,"index",ge)),at.push(()=>ot(P,"progress",Ce)),Y=new Aa({props:{name:"Mississauga Dundas",location:"Toronto, Ontario"}}),{c(){g=s("link"),v=s("link"),b=s("link"),k=s("link"),C=o(),M=s("main"),p(N.$$.fragment),G=o(),B=s("div"),p(P.$$.fragment),A=o(),p(Y.$$.fragment),this.h()},l(_){const T=ha("svelte-19xoy9t",document.head);g=i(T,"LINK",{rel:!0,href:!0}),v=i(T,"LINK",{rel:!0,href:!0,crossorigin:!0}),b=i(T,"LINK",{href:!0,rel:!0}),k=i(T,"LINK",{href:!0,rel:!0}),T.forEach(l),C=n(_),M=i(_,"MAIN",{});var R=d(M);m(N.$$.fragment,R),G=n(R),B=i(R,"DIV",{class:!0});var ne=d(B);m(P.$$.fragment,ne),ne.forEach(l),A=n(R),m(Y.$$.fragment,R),R.forEach(l),this.h()},h(){a(g,"rel","preconnect"),a(g,"href","https://fonts.googleapis.com"),a(v,"rel","preconnect"),a(v,"href","https://fonts.gstatic.com"),a(v,"crossorigin",""),a(b,"href","https://fonts.googleapis.com/css2?family=Gelasio:wght@400;600&family=Inter&display=swap"),a(b,"rel","stylesheet"),a(k,"href","https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css"),a(k,"rel","stylesheet"),a(B,"class","container svelte-5rdrag")},m(_,T){t(document.head,g),t(document.head,v),t(document.head,b),t(document.head,k),It(_,C,T),It(_,M,T),f(N,M,null),t(M,G),t(M,B),f(P,B,null),t(M,A),f(Y,M,null),oe=!0},p(_,[T]){const R={};T&67108941&&(R.$$scope={dirty:T,ctx:_}),!I&&T&16&&(I=!0,R.count=_[4],nt(()=>I=!1)),!j&&T&2&&(j=!0,R.index=_[1],nt(()=>j=!1)),!O&&T&32&&(O=!0,R.progress=_[5],nt(()=>O=!1)),P.$set(R)},i(_){oe||(h(N.$$.fragment,_),h(P.$$.fragment,_),h(Y.$$.fragment,_),oe=!0)},o(_){y(N.$$.fragment,_),y(P.$$.fragment,_),y(Y.$$.fragment,_),oe=!1},d(_){l(g),l(v),l(b),l(k),_&&l(C),_&&l(M),$(N),$(P),$(Y)}}}function ga(c,g,v){const b=(g-c)/(v-1),k={};for(let C=0;C<v;C++){const M=c+C*b;k[C]=M.toFixed(6)}return k}function Va(c,g,v){let b,k;ya(c,Lr,u=>v(11,k=u));let C=[0];Ca({cloudName:"dq4p0s7xo"});let{data:M}=g;const N=M.photos;function G(u=null){const z={type:"FeatureCollection",features:[]};return N.resources.forEach(E=>{let V,w;if(E.metadata.forEach(S=>{if(S.external_id==="latitude"){const W=S.value.replace(/\\/g,"").replace(/\s*deg/g,"°");V=sa.sexagesimalToDecimal(W)}else if(S.external_id==="longitude"){const W=S.value.replace(/\\/g,"").replace(/\s*deg/g,"°");w=sa.sexagesimalToDecimal(W)}}),V&&w&&(!u||E.public_id.includes(u))){let S=ia(E.public_id,{transformations:{rawTransformation:"c_scale,h_300"}}),W=ia(E.public_id,{transformations:{rawTransformation:"r_15,bo_15px_solid_white,c_scale,h_200"},format:"png"});const ee={type:"Feature",geometry:{type:"Point",coordinates:[w,V]},properties:{public_id:E.public_id,url:S,thumbnail:W}};z.features.push(ee)}}),z}const P=G().features.map(u=>({url:u.properties.thumbnail,id:u.properties.public_id})),I={civic:"linear-gradient(to right, #cceffe, #99dffc, #34bef9, #018bc6, #004663)",popdensity:"linear-gradient(to right, #ebf9ff, #cceffe, #99dffc, #67cefb, #34bef9, #01aef8, #018bc6, #016895, #004663, #002332, #001d29)",avgincome:"linear-gradient(to right, #f7fcf5, #c9eac2, #7bc77c, #2a924b, #00441b, #002e12)",vismin:"linear-gradient(to right, #ffeddb, #fd9243, #df5005, #7f2704, #4a1703)",heatmap:"linear-gradient(to right, #0000ff, royalblue, cyan, lime, yellow, red)"},j=["Region","City","Area","Neighbourhood","Street"];let O,A,Y,oe=[2022],{map:e=null}=g,ge=!1;function Ce(u){C=u,v(3,C)}const X=u=>{const W=ga(-79.596,-79.569,10),ee=ga(43.5965,43.617,10),lt=W[u.detail.value],ct=ee[u.detail.value];e.easeTo({center:[lt,ct]})};function _(u){oe=u,v(6,oe)}const T=u=>{const z=u.detail.value;if(e.isStyleLoaded()){[2019,2020,2021,2022].forEach(S=>{const W=S===z?1:0;e.setPaintProperty(`visitors-${S}`,"heatmap-opacity",W)});const w=e.getPaintProperty(`visitors-${z}`,"heatmap-weight")[5];console.log(w),Lr.set(w)}else console.log("Map style is not loaded.")},R=u=>j[u],ne=u=>{const E={0:10,1:11,2:12,3:13,4:14}[u.detail.value];e.easeTo({center:[-79.584,43.605],zoom:E})};function st(u){e=u,v(0,e)}function de(u){O=u,v(4,O)}function it(u){A=u,v(1,A)}function qe(u){Y=u,v(5,Y)}return c.$$set=u=>{"data"in u&&v(9,M=u.data),"map"in u&&v(0,e=u.map)},c.$$.update=()=>{if(c.$$.dirty&2048&&v(2,b=k),c.$$.dirty&1027&&e){ge||(Promise.all(P.map(E=>new Promise((V,w)=>{e.loadImage(E.url,(S,W)=>{S?(console.log(S),w(S)):(e.addImage(E.id,W),V())})}))).then(()=>{console.log("Images loaded"),v(10,ge=!0)}),e.addControl(new la.AttributionControl({customAttribution:"Canadian Urban Institute"})),e.once("style.load",()=>{e.addSource("photos",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:"photos",type:"symbol",source:"photos",layout:{"icon-image":["get","public_id"],"icon-ignore-placement":!0,"icon-size":.2,"icon-allow-overlap":!0,visibility:"visible"}});const V=e.getPaintProperty("visitors-2022","heatmap-weight")[5];Lr.set(V)}));const u={type:"FeatureCollection",features:[]},z=e.getSource("photos");switch(e.on("click","photos",E=>{const V=E.features[0].geometry.coordinates.slice(),w=E.features[0].properties.url;for(;Math.abs(E.lngLat.lng-V[0])>180;)V[0]+=E.lngLat.lng>V[0]?360:-360;new la.Popup().setLngLat(V).setHTML("<img src='"+w+"' class=popupImage />").addTo(e)}),e.on("mouseenter","photos",()=>{e.getCanvas().style.cursor="pointer"}),e.on("mouseleave","photos",()=>{e.getCanvas().style.cursor=""}),A){case 0:e.easeTo({center:[-79.584,43.605],zoom:12,pitch:50,bearing:-37,duration:1e3}),G("1_Overview"),e.once("style.load",()=>{e.setPaintProperty("mainstreets-toronto","line-opacity",1),e.setPaintProperty("missdundas","line-opacity",1),e.setPaintProperty("missdundas-fill","fill-opacity",.8)}),e.isStyleLoaded()&&(e.setPaintProperty("mainstreets-toronto","line-opacity",1),e.setPaintProperty("greenspaces","fill-opacity",0),e.setPaintProperty("transit-toronto","line-opacity",0),e.setPaintProperty("transit-toronto-stops","circle-opacity",0),e.setPaintProperty("buildings-toronto","fill-extrusion-opacity",0));break;case 1:e.easeTo({center:[-79.596,43.5965],zoom:15.01,pitch:40,bearing:-50,duration:2e3});let E=G("2_Built_Form");e.isStyleLoaded()&&(z.setData(E),e.setPaintProperty("mainstreets-toronto","line-opacity",0),e.setPaintProperty("greenspaces","fill-opacity",.8),e.setPaintProperty("transit-toronto","line-opacity",1),e.setPaintProperty("transit-toronto-stops","circle-opacity",1),e.setPaintProperty("buildings-toronto","fill-extrusion-opacity",.8),e.setPaintProperty("civicinfra-toronto-education","circle-opacity",0),e.setPaintProperty("civicinfra-toronto-education","circle-stroke-opacity",0),e.setPaintProperty("civicinfra-toronto-govt-community","circle-opacity",0),e.setPaintProperty("civicinfra-toronto-govt-community","circle-stroke-opacity",0),e.setPaintProperty("civicinfra-toronto-health","circle-opacity",0),e.setPaintProperty("civicinfra-toronto-health","circle-stroke-opacity",0),e.setPaintProperty("civicinfra-toronto-arts-culture","circle-opacity",0),e.setPaintProperty("civicinfra-toronto-arts-culture","circle-stroke-opacity",0),e.setPaintProperty("civicinfra-toronto-recreation","circle-opacity",0),e.setPaintProperty("civicinfra-toronto-recreation","circle-stroke-opacity",0));break;case 2:e.easeTo({center:[-79.5875,43.605],zoom:13.5,pitch:0,bearing:-50});let V=G("3_Civic");e.isStyleLoaded()&&(z.setData(V),e.setPaintProperty("civicinfra-toronto-education","circle-opacity",1),e.setPaintProperty("civicinfra-toronto-education","circle-stroke-opacity",1),e.setPaintProperty("civicinfra-toronto-govt-community","circle-opacity",1),e.setPaintProperty("civicinfra-toronto-govt-community","circle-stroke-opacity",1),e.setPaintProperty("civicinfra-toronto-health","circle-opacity",1),e.setPaintProperty("civicinfra-toronto-health","circle-stroke-opacity",1),e.setPaintProperty("civicinfra-toronto-arts-culture","circle-opacity",1),e.setPaintProperty("civicinfra-toronto-arts-culture","circle-stroke-opacity",1),e.setPaintProperty("civicinfra-toronto-recreation","circle-opacity",1),e.setPaintProperty("civicinfra-toronto-recreation","circle-stroke-opacity",1),e.setPaintProperty("business-toronto-retail","circle-opacity",0),e.setPaintProperty("business-toronto-retail","circle-stroke-opacity",0),e.setPaintProperty("business-toronto-food-drink","circle-opacity",0),e.setPaintProperty("business-toronto-food-drink","circle-stroke-opacity",0),e.setPaintProperty("business-toronto-services","circle-opacity",0),e.setPaintProperty("business-toronto-services","circle-stroke-opacity",0),e.setPaintProperty("greenspaces","fill-opacity",0),e.setPaintProperty("transit-toronto","line-opacity",0),e.setPaintProperty("transit-toronto-stops","circle-opacity",0),e.setPaintProperty("buildings-toronto","fill-extrusion-opacity",0));break;case 3:e.easeTo({center:[-79.5875,43.605],zoom:13.5,pitch:0,bearing:-50});let w=G("4_Business");e.isStyleLoaded()&&(z.setData(w),e.setPaintProperty("business-toronto-retail","circle-opacity",1),e.setPaintProperty("business-toronto-retail","circle-stroke-opacity",1),e.setPaintProperty("business-toronto-food-drink","circle-opacity",1),e.setPaintProperty("business-toronto-food-drink","circle-stroke-opacity",1),e.setPaintProperty("business-toronto-services","circle-opacity",1),e.setPaintProperty("business-toronto-services","circle-stroke-opacity",1),e.setPaintProperty("civicinfra-toronto-education","circle-opacity",0),e.setPaintProperty("civicinfra-toronto-education","circle-stroke-opacity",0),e.setPaintProperty("civicinfra-toronto-govt-community","circle-opacity",0),e.setPaintProperty("civicinfra-toronto-govt-community","circle-stroke-opacity",0),e.setPaintProperty("civicinfra-toronto-health","circle-opacity",0),e.setPaintProperty("civicinfra-toronto-health","circle-stroke-opacity",0),e.setPaintProperty("civicinfra-toronto-arts-culture","circle-opacity",0),e.setPaintProperty("civicinfra-toronto-arts-culture","circle-stroke-opacity",0),e.setPaintProperty("civicinfra-toronto-recreation","circle-opacity",0),e.setPaintProperty("civicinfra-toronto-recreation","circle-stroke-opacity",0),e.setPaintProperty("employment-size","circle-opacity",0),e.setPaintProperty("employment-size","circle-stroke-opacity",0));break;case 4:e.easeTo({center:[-79.5875,43.605],zoom:13.5,pitch:0,bearing:-50}),e.isStyleLoaded()&&(z.setData(u),e.setPaintProperty("employment-size","circle-opacity",1),e.setPaintProperty("employment-size","circle-stroke-opacity",1),e.setPaintProperty("business-toronto-retail","circle-opacity",0),e.setPaintProperty("business-toronto-retail","circle-stroke-opacity",0),e.setPaintProperty("business-toronto-food-drink","circle-opacity",0),e.setPaintProperty("business-toronto-food-drink","circle-stroke-opacity",0),e.setPaintProperty("business-toronto-services","circle-opacity",0),e.setPaintProperty("business-toronto-services","circle-stroke-opacity",0),e.setPaintProperty("populationdensity","fill-opacity",0),e.setPaintProperty("missdundas-outline","line-opacity",0),e.setPaintProperty("buildings-toronto","fill-extrusion-opacity",0));break;case 5:e.easeTo({center:[-79.584,43.605],zoom:13.3,pitch:20,bearing:-52,duration:1e3});let S=G("5_Housing");e.isStyleLoaded()&&(z.setData(S),e.setPaintProperty("populationdensity","fill-opacity",.95),e.setPaintProperty("missdundas-outline","line-opacity",1),e.setPaintProperty("missdundas-outline","line-color","#ffdd33"),e.setPaintProperty("employment-size","circle-opacity",0),e.setPaintProperty("employment-size","circle-stroke-opacity",0),e.setPaintProperty("averageincome","fill-opacity",0));break;case 6:e.easeTo({center:[-79.5875,43.605],zoom:13.5,pitch:0,bearing:-52}),e.isStyleLoaded()&&(z.setData(u),e.setPaintProperty("averageincome","fill-opacity",.95),e.setPaintProperty("populationdensity","fill-opacity",0),e.setPaintProperty("visitors-2022","heatmap-opacity",0),e.setPaintProperty("buildings-toronto","fill-extrusion-opacity",0));break;case 7:e.easeTo({center:[-79.584,43.605],zoom:11,pitch:0,bearing:-52,duration:5e3}),e.isStyleLoaded()&&(e.setPaintProperty("visitors-2022","heatmap-opacity",1),e.setPaintProperty("missdundas-outline","line-color","#fff"),e.setPaintProperty("averageincome","fill-opacity",0),e.setPaintProperty("employment-size","circle-opacity",0));break}}},[e,A,b,C,O,Y,oe,I,j,M,ge,k,Ce,X,_,T,R,ne,st,de,it,qe]}class Ga extends pa{constructor(g){super(),ma(this,g,Va,za,fa,{data:9,map:0})}}export{Ga as component,Ka as universal};
